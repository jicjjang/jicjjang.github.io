{"version":3,"sources":["webpack:///./src/utils/speech.ts","webpack:///./node_modules/core-js/modules/es.array.sort.js","webpack:///./node_modules/core-js/internals/to-string.js","webpack:///./src/pages/presentation/index.tsx","webpack:///./src/components/PostHeader.tsx"],"names":["Speech","isSupportedSpeech","SpeechSynthesisUtterance","speechSynthesis","console","error","window","onbeforeunload","stopSpeech","sendMessage","text","voiceIndex","this","speaking","cancel","message","rate","voices","getVoices","voice","speak","sendContentsMessage","postArticleElement","document","querySelector","innerText","$","uncurryThis","aCallable","toObject","lengthOfArrayLike","toString","fails","internalSort","arrayMethodIsStrict","FF","IE_OR_EDGE","V8","WEBKIT","test","un$Sort","sort","push","FAILS_ON_UNDEFINED","undefined","FAILS_ON_NULL","STRICT_METHOD","STABLE_SORT","code","chr","value","index","result","String","fromCharCode","k","v","a","b","length","charAt","target","proto","forced","comparefn","array","itemsLength","items","arrayLength","x","y","getSortCompare","global","classof","module","exports","argument","TypeError","Presentation","data","pLocation","location","presentations","allSitePage","edges","parseInt","node","path","split","forEach","presentationData","removeTrailingSlash","log","PRESENTATION_DATA","title","pathname","map","tags","date","key","rhythm","StyledHeader","styled","header","props","StyledH1Link","Link","StyledSpeechSpan","span","StyledTime","time","scale","fontSize","lineHeight","PostHeader","isPost","to","onClick","speech","className","dateTime"],"mappings":"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","file":"component---src-pages-presentation-index-tsx-22f88fab5c3d04aee7fc.js","sourcesContent":["class Speech {\n  constructor() {}\n\n  private isSupportedSpeech() {\n    if (typeof SpeechSynthesisUtterance === 'undefined' || typeof speechSynthesis === 'undefined') {\n      console.error('This browser does not support speech API');\n      return false;\n    }\n\n    window.onbeforeunload = () => this.stopSpeech();\n\n    return true;\n  }\n\n  public sendMessage(text, voiceIndex = 0) {\n    if (this.isSupportedSpeech()) {\n      if (window.speechSynthesis.speaking) {\n        window.speechSynthesis.cancel();\n      }\n\n      const message = new SpeechSynthesisUtterance(text);\n      message.rate = 1;\n      const voices = speechSynthesis.getVoices();\n\n      message.voice = voices[voiceIndex];\n      speechSynthesis.speak(message);\n    }\n  }\n\n  public sendContentsMessage() {\n    const postArticleElement = document.querySelector('.post_article') as HTMLElement;\n    if (postArticleElement?.innerText) {\n      this.sendMessage(postArticleElement?.innerText);\n    }\n  }\n\n  public stopSpeech() {\n    if (this.isSupportedSpeech() && window.speechSynthesis.speaking) {\n      window.speechSynthesis.cancel();\n    }\n  }\n}\n\nexport default new Speech();\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar internalSort = require('../internals/array-sort');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar FF = require('../internals/engine-ff-version');\nvar IE_OR_EDGE = require('../internals/engine-is-ie-or-edge');\nvar V8 = require('../internals/engine-v8-version');\nvar WEBKIT = require('../internals/engine-webkit-version');\n\nvar test = [];\nvar un$Sort = uncurryThis(test.sort);\nvar push = uncurryThis(test.push);\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar STABLE_SORT = !fails(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 70;\n  if (FF && FF > 3) return;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 603;\n\n  var result = '';\n  var code, chr, value, index;\n\n  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)\n  for (code = 65; code < 76; code++) {\n    chr = String.fromCharCode(code);\n\n    switch (code) {\n      case 66: case 69: case 70: case 72: value = 3; break;\n      case 68: case 71: value = 4; break;\n      default: value = 2;\n    }\n\n    for (index = 0; index < 47; index++) {\n      test.push({ k: chr + index, v: value });\n    }\n  }\n\n  test.sort(function (a, b) { return b.v - a.v; });\n\n  for (index = 0; index < test.length; index++) {\n    chr = test[index].k.charAt(0);\n    if (result.charAt(result.length - 1) !== chr) result += chr;\n  }\n\n  return result !== 'DGBEFHACIJK';\n});\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (y === undefined) return -1;\n    if (x === undefined) return 1;\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    return toString(x) > toString(y) ? 1 : -1;\n  };\n};\n\n// `Array.prototype.sort` method\n// https://tc39.es/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    if (comparefn !== undefined) aCallable(comparefn);\n\n    var array = toObject(this);\n\n    if (STABLE_SORT) return comparefn === undefined ? un$Sort(array) : un$Sort(array, comparefn);\n\n    var items = [];\n    var arrayLength = lengthOfArrayLike(array);\n    var itemsLength, index;\n\n    for (index = 0; index < arrayLength; index++) {\n      if (index in array) push(items, array[index]);\n    }\n\n    internalSort(items, getSortCompare(comparefn));\n\n    itemsLength = items.length;\n    index = 0;\n\n    while (index < itemsLength) array[index] = items[index++];\n    while (index < arrayLength) delete array[index++];\n\n    return array;\n  }\n});\n","var global = require('../internals/global');\nvar classof = require('../internals/classof');\n\nvar String = global.String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return String(argument);\n};\n","import * as React from 'react';\nimport { PageProps, graphql } from 'gatsby';\n\nimport { Query } from '~/gatsby-graphql-types';\nimport DefaultLayout from '~/components/layout/Default';\nimport { removeTrailingSlash, PRESENTATION_DATA, IPresentationData } from '~/configs/urls';\nimport { StyledCommonArticle, StyledCommonDivEmpty } from '~/components/common';\nimport PostTags from '~/components/PostTags';\nimport PostHeader from '~/components/PostHeader';\nimport { rhythm } from '~/configs/typography';\n\nconst TITLE = 'Presentation';\n\nexport default function Presentation({ data, location: pLocation }: PageProps) {\n  const presentations: IPresentationData[] = [];\n  (data as Query).allSitePage.edges\n    .sort((a, b) => parseInt(b.node.path.split('/')[2], 10) - parseInt(a.node.path.split('/')[2], 10))\n    .forEach(presentationData => {\n      const path = removeTrailingSlash(presentationData.node.path);\n      console.log(path);\n      presentations.push({\n        ...PRESENTATION_DATA[path],\n        path\n      });\n    });\n\n  return (\n    <DefaultLayout title={TITLE} pathname={pLocation.pathname}>\n      {presentations.length > 0 ? (\n        presentations.map(({ title, tags, date, path }: IPresentationData, index: number) => (\n          <StyledCommonArticle key={`${title}-${index}`} rhythm={rhythm(2)}>\n            <PostHeader title={title!} path={path} date={date} />\n            {tags?.length ? <PostTags tags={tags} /> : null}\n          </StyledCommonArticle>\n        ))\n      ) : (\n        <StyledCommonDivEmpty rhythm={rhythm(4)}>컨텐츠가 없습니다.</StyledCommonDivEmpty>\n      )}\n    </DefaultLayout>\n  );\n}\n\nexport const query = graphql`\n  query {\n    allSitePage(filter: { path: { regex: \"/^\\/presentation\\/[\\\\w]/i\"}}) {\n      edges {\n        node {\n          id\n          path\n          matchPath\n        }\n      }\n    }\n  }\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { BaseLine } from 'typography';\nimport { Link } from 'gatsby';\n\nimport { scale, rhythm } from '~/configs/typography';\nimport { StyledCommonH1Title } from '~/components/common';\nimport speech from '~/utils/speech';\n\nconst StyledHeader = styled.header<{ rhythm: string }>`\n  margin-bottom: ${props => props.rhythm};\n`;\n\nconst StyledH1Link = styled(Link)`\n  color: #000;\n  &:hover {\n    color: #172fde;\n  }\n`;\n\nconst StyledSpeechSpan = styled.span`\n  display: inline-block;\n  width: 30px;\n  height: 30px;\n  background-image: url(/img/post/speaker.png);\n  background-size: 22px;\n  background-repeat: no-repeat;\n  background-position: 6px 10px;\n  &:active {\n    background-position: 6px 11px;\n  }\n`;\n\nconst StyledTime = styled.time<{ scale: BaseLine }>`\n  color: #898989;\n  font-size: ${props => props.scale.fontSize};\n  line-height: ${props => props.scale.lineHeight};\n`;\n\ninterface IProps {\n  title: string;\n  path?: string;\n  date: string;\n  isPost?: boolean;\n}\n\nconst PostHeader: React.FunctionComponent<IProps> = ({ title, path, date, isPost = false }) => {\n  return (\n    <StyledHeader rhythm={rhythm(1.2)}>\n      <StyledCommonH1Title scale={scale(0.5)} rhythm={rhythm(0.2)}>\n        {path ? <StyledH1Link to={path!}>{title}</StyledH1Link> : title}\n        {isPost && <StyledSpeechSpan onClick={() => speech.sendContentsMessage()} />}\n      </StyledCommonH1Title>\n      <p className=\"post-meta\">\n        <StyledTime dateTime={date} scale={scale(-0.1)}>\n          {date}\n        </StyledTime>\n      </p>\n    </StyledHeader>\n  );\n};\n\nexport default PostHeader;\n"],"sourceRoot":""}