{"componentChunkName":"component---src-templates-post-template-tsx","path":"/posts/m1-chip-npm-bug","result":{"data":{"site":{"siteMetadata":{"title":"June"}},"markdownRemark":{"id":"65d2f4b2-bbf5-5186-b781-8c8f8426bcab","excerpt":"봇 관련된 사이드 프로젝트를 진행한 뒤, 완성된 프로젝트를 어떻게 serving할 지 고민하다 맥 미니를 사는 것으로 결정했습니다 ㅎㅎ 결정 후 바로 m1 chip cpu…","html":"<p>봇 관련된 사이드 프로젝트를 진행한 뒤, 완성된 프로젝트를 어떻게 serving할 지 고민하다 맥 미니를 사는 것으로 결정했습니다 ㅎㅎ</p>\n<p>결정 후 바로 m1 chip cpu의 맥 미니를 구매하였고, 프로젝트 세팅을 마무리 했습니다. (잘 돌아간다 🥳🥳🥳)</p>\n<p>이후 블로그에 사이드 프로젝트 후기를 남기려고 <code class=\"language-text\">git clone</code>후 <code class=\"language-text\">npm install</code>을 하는데...</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/72a97d985c6ff9afd5553ae093c1bc5d/c9d77/error1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 76.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABn0lEQVQ4y52U23KDMAxECZAQ7neDIbT//5WqjxMxJE3bmT7sWDjWerWSE9iukbk2klWNxHEiSRhKGEZyPp8lyzK5Xq+SpqmP2QuC4HfcmkrmtJTFrGLMKF3fyzAM0rat1HUtTdN4VFUlSZLI5XLxxFwEdE/XYHWEfZ7J9vEp27bJ7XbzMMZI78hRF8fxjiiK9hjiI06n012hqUqxyyrrssg0TWKtlXVdZXHfgG8wz/N+GRaoWl0fhLVMjtC4w5o4jqMvl6RjmcRaZui8fu9h6wjrSiZHpGq6rvO+QZrnuS+7LMvdNwX7wCtTwu1BaF2JkBVF4UlQgUJIaQiE2u3jCshRC3aFeIhHJEP453j8hLvCe1NQSCn6I6WgFJUoBMSqmhV16vG3kvEQQh0DyEhQAmIl5puzjBFnGaNDU8q9ZJIZGWJ8OZajF6jHx/mEFPInhZDQXWaNoX71B1Vcxhwyr4CYCyjbq9Q5tK5cCFFAEk/v3ayxh7dA46czHy1/DpUsThUe4g9zSEn/6rJ1/g1l4V8KCnWQ9TWoR9r14/oagy8TRlASHa2jJQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"error1\"\n        title=\"error1\"\n        src=\"/static/72a97d985c6ff9afd5553ae093c1bc5d/e85cb/error1.png\"\n        srcset=\"/static/72a97d985c6ff9afd5553ae093c1bc5d/070ae/error1.png 120w,\n/static/72a97d985c6ff9afd5553ae093c1bc5d/8ff5a/error1.png 240w,\n/static/72a97d985c6ff9afd5553ae093c1bc5d/e85cb/error1.png 480w,\n/static/72a97d985c6ff9afd5553ae093c1bc5d/37523/error1.png 720w,\n/static/72a97d985c6ff9afd5553ae093c1bc5d/d9199/error1.png 960w,\n/static/72a97d985c6ff9afd5553ae093c1bc5d/c9d77/error1.png 1964w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c9373a3e2014ab699a5c3d847c6117ca/01744/error2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 24.166666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAl0lEQVQY052Q2QrDIBBFTTAuccfYNC30///y1hkwkEJf8nBQcOYuipoiHvuOnDO89wgh8GmtxbIsUEoxdP8HvWutMc8zxNE2FnTregpJKSGEuMfndaDUitppraGUgpQSE2Nkk7WbGWMuUCJKRqmIaZoY8X7uXWzj6ORAw865U2gMUurBb93xJdwseQfbF6kqJSLnsXSn8heAUWtyA/gjAAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"error2\"\n        title=\"error2\"\n        src=\"/static/c9373a3e2014ab699a5c3d847c6117ca/e85cb/error2.png\"\n        srcset=\"/static/c9373a3e2014ab699a5c3d847c6117ca/070ae/error2.png 120w,\n/static/c9373a3e2014ab699a5c3d847c6117ca/8ff5a/error2.png 240w,\n/static/c9373a3e2014ab699a5c3d847c6117ca/e85cb/error2.png 480w,\n/static/c9373a3e2014ab699a5c3d847c6117ca/37523/error2.png 720w,\n/static/c9373a3e2014ab699a5c3d847c6117ca/d9199/error2.png 960w,\n/static/c9373a3e2014ab699a5c3d847c6117ca/01744/error2.png 2830w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>여러 pc에서 (회사, 개인 노트북) 잘 동작하면 프로젝트가 갑자기 에러를 내뱉으니 당황스러웠습니다.</p>\n<p>가장 처음 나온 에러의 내용인 <code class=\"language-text\">ERR! sharp Prebuilt libvips 8.10.0 binaries are not yet available for darwin-arm64v8</code> 이 부분을 보고 <code class=\"language-text\">sharp</code> 라는 라이브러리 (직접 사용하는게 아닌 깊은 dept에 있는 코어한 라이브러리)를 위주로 찾아봤습니다.</p>\n<p>역시 <a href=\"https://github.com/lovell/sharp/issues/2460\" target=\"_blank\" rel=\"noopener\">저와 같은 이슈</a>를 겪은 사람은 한둘이 아니었고, 해당 내용에 대해 많은 논의가 있었습니다.</p>\n<p>sharp 라이브러리 documentation에서도 <a href=\"https://sharp.pixelplumbing.com/install#apple-m1\" target=\"_blank\" rel=\"noopener\">Apple m1</a>에 대한 내용이 있었으나, 큰 도움이 되진 않았습니다..</p>\n<hr>\n<p>결국 해결한 방법은 <a href=\"https://github.com/lovell/sharp/issues/2460#issuecomment-751491241\" target=\"_blank\" rel=\"noopener\">해당 댓글</a> 을 보고 진행한 <code class=\"language-text\">brew install vips</code> 명령어 였습니다.\n(위 댓글의 <code class=\"language-text\">vips</code>가 아닌 <code class=\"language-text\">libvips</code> 패키지를 설치해도 된다는 댓글이 있었으나, 이미 <code class=\"language-text\">vips</code>로 설치를 진행했습니다.)</p>\n<p>해당 명령어로 아래의 모든 패키지가 설치되었습니다 (...)</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7766e79e8f8875c93cf8165657d81e32/ce0a7/brew-list.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.833333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA/UlEQVQoz2WRSXaEMAxEzTzPs5sN9P3PWHE5yO1OFnpQYL6+hGrGGfr9Rt73CPMCTdVjaRpUZYk8z5GmKYqiQJIkUEohDENUVeVyEATIssxemZU+NGJzyAZTr/Nl6rSQOI4xjiNOk3nP93w+TZOFMLPhfd+o6/qXse+77SjAeZ6RmUOSu65Db+wll8acZ8SIpmSIsdq2DY0ZUT6gES18oDQlhEC/Ac2FYa2P4/jQTa3rimEYnAEbaK3de47GkSUTQmPJiod9o2VZ0LbtlyHLH/m6LrdT7vAf0C302aGfCaelZP55TpE+e5YfJ1lxPEd/gDSOosgBae0b+jv/Wz+lSq9Nkx3mvwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"brew-list\"\n        title=\"brew-list\"\n        src=\"/static/7766e79e8f8875c93cf8165657d81e32/e85cb/brew-list.png\"\n        srcset=\"/static/7766e79e8f8875c93cf8165657d81e32/070ae/brew-list.png 120w,\n/static/7766e79e8f8875c93cf8165657d81e32/8ff5a/brew-list.png 240w,\n/static/7766e79e8f8875c93cf8165657d81e32/e85cb/brew-list.png 480w,\n/static/7766e79e8f8875c93cf8165657d81e32/37523/brew-list.png 720w,\n/static/7766e79e8f8875c93cf8165657d81e32/d9199/brew-list.png 960w,\n/static/7766e79e8f8875c93cf8165657d81e32/ce0a7/brew-list.png 1590w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<hr>\n<p>해결하기에 심각한 공수가 들어간 것은 아니었지만, cpu의 변화로 영향을 받는 패키지가 있다는 것을 알게 되었고, (sharp는 이미지 processing 관련 library) 항상 비슷한 osx환경을 사용하며 뭔가... 무뎌진? 새로운 기술에 대한 경각심을 깨달을 수 있었습니다.</p>","frontmatter":{"title":"M1 chip 맥 미니 npm install 버그!","date":"April 25, 2021","tags":["apple","m1","mac-mini","npm"]}}},"pageContext":{"slug":"/posts/m1-chip-npm-bug","previous":{"fields":{"slug":"/posts/fixed-local-file-path-issue-in-react-library"},"frontmatter":{"title":"React library local file path 이슈 해결"}},"next":{"fields":{"slug":"/posts/bitcoin-auto-deal-side-project"},"frontmatter":{"title":"비트코인 자동매매 사이드 프로젝트"}}}},"staticQueryHashes":["1576648375","764694655"]}