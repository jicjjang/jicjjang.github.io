{"componentChunkName":"component---src-templates-post-template-tsx","path":"/posts/malware","result":{"data":{"site":{"siteMetadata":{"title":"June"}},"markdownRemark":{"id":"8e72bc8f-4471-565d-80cd-c1a6d633e3c5","excerpt":"뜬금없지만 이번 7월 16일 부터 7월 1…","html":"<p>뜬금없지만 이번 7월 16일 부터 7월 19일까지 일본 여행을 가게 되었습니다. 물론 이미 잘 다녀온 여행이고 즐거웠습니다.\n그런데 여행 도중 갑자기 이용중인 서버 호스팅 사이트로부터 문자를 받게 되었습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f72cd5dd07b5ec3741696bff941b6eea/d72d4/message.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 92.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAAC80lEQVQ4y4VUaVMaQRDd//8ftCpWqaXBA+USRBGR+1SMJCQmVSvHcl9y7C505j2ylB9CMlXN9A49r3t63htN1FitVlttuVzJfL6Q9/d3mc3mYpqmLBam2LYtlmWp/5ebWAzNcbYNbOp2ulKr1WnD4UgGg4GMRiPlD5nAGcDS4JimrbJaNMtabnysz2YL+ra92sRhns9NGuLXMWtgzbJsqVZ/SSKRlVDoVi4u/PLwkJJkMic3N1HJ5R7pYy2VytPu75OSzz9KOp3nnkymKI1Gh9VqpmlJqfRFwuE78XqvxOMJSDQal3g8LaenFwT1egOyv38kweCNnJy45eoqrBKVJJstSiQSI3it1pLpdC4ajvD0VJHr64gcHn5W2RMSCFwTzOcLEsTlOud3LJZkRU7iQqGsKs7J7u6elMsVwWkJ+Pz8jZUEg+vy4/EMKwTY3V2cSbCG/+CHQhG2AK2qVn8S9PVVZ081NLhYfJadnU/idnsJjCOhap8vJOfnHtVXH6uMxVJsDY6PU7y9GVKvt8UweqLrBi9Hw0+r1VM9MFRAk1avt2iG0ZVms0MfM75h+Nb1Ji/Cien1huTsP3n4P47+LU6Dv00lDrF7vT5J3WwaJHO/35fJZKLIPd4Q29mjbc/qKMXmxvF4rBQyVNSYksSQ4Ww2o/Q+Dg3n7nYH5BH6qOuNPz1ss5+NRls6nYG0231atzvkmmO6XmfcZDJdA+KWQWxQATe5t3dA//b2nt8g7uWlX46PT3n74CPUlE4XFKUeNvzETePBoFJAEdDh7OySPEskMgRyuc5IbqyBPn5/iCCZTEGpKaEkmaWqoJgNIPpRLn/lJlQBHkI1qAYgWMcJAASVIBbaBjhi3W4PT4N2UCmoEErBsaBJbIICkBlVokL4APYrH4kODo4IuO67w8n2ukLIpVL5oQJvFOATs7+8fOcMuUF62WyJug2Ho5QkZqgGQFAIZoiDtEGFODbeNYBD23g1Pr6JztvnvIfOm4mbdQzVYfwGPtNddebKl+sAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"message\"\n        title=\"message\"\n        src=\"/static/f72cd5dd07b5ec3741696bff941b6eea/e85cb/message.png\"\n        srcset=\"/static/f72cd5dd07b5ec3741696bff941b6eea/070ae/message.png 120w,\n/static/f72cd5dd07b5ec3741696bff941b6eea/8ff5a/message.png 240w,\n/static/f72cd5dd07b5ec3741696bff941b6eea/e85cb/message.png 480w,\n/static/f72cd5dd07b5ec3741696bff941b6eea/d72d4/message.png 494w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><code class=\"language-text\">초과금 과금예정</code> 이란 단어에 스트레스가 쫘아악 올라가더군요;;;</p>\n<p>여행 도중이었기 때문에 바로 서버를 꺼주고 여행이 끝난 뒤 어떤 공격을 받은건지 확인을 했습니다.</p>\n<p>먼저 서버 호스팅의 트래픽 사용량과 로그를 확인해보았습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d8c90d87a4e7911a7a4f797619415e3c/077b7/traffic1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB3klEQVQ4y22TW5ObMAyF8///WV/6si/dababZEMuJMFXsI0Np5IgNOyUGU2ErXw6Otibr68DzucLdrudxLGq0OcMfoZxxDCMGOn3+zMMA3g59RnNvcb7tcPRZGy2hwve3v/gx883fFY3PIynogLjWnSxR8wDHi5hf37g967Cr48DjrVCyCMS7Snj0CiDm+uhux6b6u6xv2ocKM6qw80E6LbH3XSolUfjIi46yv7nqcHuovBVW9S6hfIJDxuk1hIspoTN6abA0dKU18ZiSyoaUmS6go/9idY8VFuk5nI3oF6oG4ftvqL1XppzfqMGIZFC6xyc8+RboQ49+D2XQcJR3oWINkzrHFyXqM57j0L+st/GWFnLlG+sdTDWLoWcM4zfldYTkLzkOg7ek8aSj3OdkXEXIMf/gPoJDBPg2TjEBG3MVEdf+dE0L0A3d55HZvkTMBPQrBSaWaEAtVlNsgDZvwVIhXZWmEsROAO7mMU/51vxLcT4TyEDlV4r9EthWo3MeReSAN0LUBo/Px5bQ3C2q3966OiLrc0e6I+DqI0pLyPzNE+F361ZgAzzbSuA1+PAV45V8dVihbzuXxTyHuelTI0LWbQoXI08e8Oh5Tj0cgWn8zpBQpgUMozDy4QT8C+PCu0AyZrF3wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"traffic1\"\n        title=\"traffic1\"\n        src=\"/static/d8c90d87a4e7911a7a4f797619415e3c/e85cb/traffic1.png\"\n        srcset=\"/static/d8c90d87a4e7911a7a4f797619415e3c/070ae/traffic1.png 120w,\n/static/d8c90d87a4e7911a7a4f797619415e3c/8ff5a/traffic1.png 240w,\n/static/d8c90d87a4e7911a7a4f797619415e3c/e85cb/traffic1.png 480w,\n/static/d8c90d87a4e7911a7a4f797619415e3c/37523/traffic1.png 720w,\n/static/d8c90d87a4e7911a7a4f797619415e3c/d9199/traffic1.png 960w,\n/static/d8c90d87a4e7911a7a4f797619415e3c/077b7/traffic1.png 1166w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/87431f4ff1322cfc3fe8667dda99f26d/b5cea/traffic2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.16666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACrklEQVQ4y01TS24UMRTsA4QgsgApLOECbDhArhAJIcERWHAINsCWDbdgzRrEPtJ0kpnJ/Lqnp2f6/3Pb3ZMp6rkTyKLkZ/u5/Pyq7NR1jaZpIGMlqCob53mOzWYDf+3B8zz4vo/dLuR8jbIsh3zmVnfn7s84srkNQxRZBmMMdNvCEK1SKCuSbnPkRYokzZinEAY8mBkY3dpcrfWQT1jCIAhsBSUnt32P3nQDeoNDBagM2M2BNiK0QaMbKKOw7yTPoOcocUfiQgiFTEjLosBhv7cJfa95GviR/sSZPsOn7Td8qD/iRfsSx/VjvGvfAz2guxZ7FmHJiYyvdIqMzyJhkbMvlWI/FHrVY5Fs8Cp5jaPqEZ5XpzgpTvAsP8VReYw32VuggW1Jw9611EBeaCsceddYeSus/TXiOMFkMkWw3uBmOYOXehhNRnBnLtZxgMlqgvFqjDANrTDSM6lKBImjiAVVcC6uFyT04a1WSNMUi8UCnu9RgC3KrIS/9BGuKVpaIN7FCLyAFbWW0KpMPFTd6TtjlRKVxD4tY5nLZkDbbMINx8BC4nDL6rh3b7WmqaHUYBshtraJdjtrGyFStItYRvFAzjWBCFZJRYTE7V2O2KaoalpKYjWIEtKDYlpJFNt0pvtnBavgHW4fxNYJRvY7eFNaqzxwTQ8+FDKBKHTY9zbJwlrB2Hi4wPy/xM41DrTW1+Q7PusvgAGSLIETR7H9YvIc3RoqReM2ij+Bv6HVtAX7qloba6LmXPrXcz/LGzyJnuK8PmeZJMxjOKtoMHa0ixBFGVx3jNlsiSTO+IMCXF6O7ZgkOfO2GI2u+KcTvqhGyDO/Fr8xTaeoi0Ft58+Fi5vZHDfTKX0YkewGy+XS2mc8vsbV1SXm87ldc13Xrouy1ipUu6s7tCVtVJUoqMNfGRcSB625yRIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"traffic2\"\n        title=\"traffic2\"\n        src=\"/static/87431f4ff1322cfc3fe8667dda99f26d/e85cb/traffic2.png\"\n        srcset=\"/static/87431f4ff1322cfc3fe8667dda99f26d/070ae/traffic2.png 120w,\n/static/87431f4ff1322cfc3fe8667dda99f26d/8ff5a/traffic2.png 240w,\n/static/87431f4ff1322cfc3fe8667dda99f26d/e85cb/traffic2.png 480w,\n/static/87431f4ff1322cfc3fe8667dda99f26d/37523/traffic2.png 720w,\n/static/87431f4ff1322cfc3fe8667dda99f26d/d9199/traffic2.png 960w,\n/static/87431f4ff1322cfc3fe8667dda99f26d/b5cea/traffic2.png 1140w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/23795726d8a49d653e1797ccfd96a11e/0f246/traffic3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20.833333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAbElEQVQY06WPQQqAMAwE/f8fBREVpaAWk6ZW29XmIOhNDQxhExjYYnY7rERl5A3kd3gRyIn3q27nnMLMSr4REWKMSCld5Fy0xqKse1SdwTCxCvPzy6iwHwnNMKE1M4yV/8Jn5UW2W403hBBwACE7OlZAszBeAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"traffic3\"\n        title=\"traffic3\"\n        src=\"/static/23795726d8a49d653e1797ccfd96a11e/e85cb/traffic3.png\"\n        srcset=\"/static/23795726d8a49d653e1797ccfd96a11e/070ae/traffic3.png 120w,\n/static/23795726d8a49d653e1797ccfd96a11e/8ff5a/traffic3.png 240w,\n/static/23795726d8a49d653e1797ccfd96a11e/e85cb/traffic3.png 480w,\n/static/23795726d8a49d653e1797ccfd96a11e/37523/traffic3.png 720w,\n/static/23795726d8a49d653e1797ccfd96a11e/d9199/traffic3.png 960w,\n/static/23795726d8a49d653e1797ccfd96a11e/0f246/traffic3.png 1118w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>... 눈물이 앞을 가립니다...</p>\n<p>...서버를 켜주고 (트래픽 차단을 해제하지 않아도 서버만 켜주면 사이트가 들어가지더군요...) coda 프로그램을 이용해 access.log 파일과 error.log 파일을 받았습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/167d8b3ce21b54fdd9d5a9f819b1e282/cd536/log1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 4.166666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAARElEQVQI1x3L2w3AIAxDUQYolPBOAkLq/ju6kC9LV8cu6YKvDaF1RBYQK56UQafftSYTvlTEwXj7QNmf+fslUTN5bXM/1hsZFVZymd0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"log1\"\n        title=\"log1\"\n        src=\"/static/167d8b3ce21b54fdd9d5a9f819b1e282/e85cb/log1.png\"\n        srcset=\"/static/167d8b3ce21b54fdd9d5a9f819b1e282/070ae/log1.png 120w,\n/static/167d8b3ce21b54fdd9d5a9f819b1e282/8ff5a/log1.png 240w,\n/static/167d8b3ce21b54fdd9d5a9f819b1e282/e85cb/log1.png 480w,\n/static/167d8b3ce21b54fdd9d5a9f819b1e282/37523/log1.png 720w,\n/static/167d8b3ce21b54fdd9d5a9f819b1e282/d9199/log1.png 960w,\n/static/167d8b3ce21b54fdd9d5a9f819b1e282/cd536/log1.png 1114w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c1f5ae9b83aca3685a142134781b891d/701e9/log2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 9.166666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAgUlEQVQI1y2N2Q6CMAAEiXhxCtIWKYicAYsY/f+PG0F92Eyy2cxaXhSTdgPl842qW67zi0vXI6oaUVbk5kGcF+jRoJqOtO3RgyHKNP45IRCSg+d/44QhlnuKUMuomGbkIinMj6tspR4nAqnIhjviViOX07XzE8HecdkdHTa2/c+WD4GFM3u5z5YEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"log2\"\n        title=\"log2\"\n        src=\"/static/c1f5ae9b83aca3685a142134781b891d/e85cb/log2.png\"\n        srcset=\"/static/c1f5ae9b83aca3685a142134781b891d/070ae/log2.png 120w,\n/static/c1f5ae9b83aca3685a142134781b891d/8ff5a/log2.png 240w,\n/static/c1f5ae9b83aca3685a142134781b891d/e85cb/log2.png 480w,\n/static/c1f5ae9b83aca3685a142134781b891d/37523/log2.png 720w,\n/static/c1f5ae9b83aca3685a142134781b891d/d9199/log2.png 960w,\n/static/c1f5ae9b83aca3685a142134781b891d/701e9/log2.png 1780w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a6f0d27f841b18552400ebb4c9e9e1b5/a88f6/log3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 3.3333333333333335%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAO0lEQVQI1z2Lxw0AIAwD+VJS6PtPagKReFjWnexAfYDXRtL6O1uK+UiMXBuS6PORxVmdaUzft45yY58Dn+kXkAbKfiUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"log3\"\n        title=\"log3\"\n        src=\"/static/a6f0d27f841b18552400ebb4c9e9e1b5/e85cb/log3.png\"\n        srcset=\"/static/a6f0d27f841b18552400ebb4c9e9e1b5/070ae/log3.png 120w,\n/static/a6f0d27f841b18552400ebb4c9e9e1b5/8ff5a/log3.png 240w,\n/static/a6f0d27f841b18552400ebb4c9e9e1b5/e85cb/log3.png 480w,\n/static/a6f0d27f841b18552400ebb4c9e9e1b5/37523/log3.png 720w,\n/static/a6f0d27f841b18552400ebb4c9e9e1b5/d9199/log3.png 960w,\n/static/a6f0d27f841b18552400ebb4c9e9e1b5/a88f6/log3.png 1900w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&quot;x00_-gawa.sa.pilipinas.2015&quot;\n&quot;http://google.com/search?q=2+guys+1+horse&quot;\n&quot;/Ringing.at.your.dorbell!&quot;</code></pre></div>\n<p>위 사진에서 뿐만 아니라 많은 로그들이 있었으나, 3개의 문장들이 많은 반복이 있었으므로 3개의 문장들을 기준으로 구글링을 해봤습니다.</p>\n<p><a href=\"http://www.skepticism.us/2015/05/13/\" target=\"_blank\" rel=\"noopener\">shellshock attack</a> 라는 malware였습니다. (해결 방법까지 제공!)</p>\n<p>ps. 현재 사이트를 운영중인게 아니라 큰 조치를 취할 필요는 없었습니다.\nphpschool 호스팅을 쓰면서 무료로 제공하는 Dnszi에서, 유료면서 동일 IP에 대한 반복적인 리퀘스트를 제한해준다고 추천받은 Dnsever로 (유료지만..ㅠㅠ)\nDNS를 옮기는게 제가 취한 조치였습니다.</p>\n<hr>\n<p>여행 도중이란 상황에 많이 당황하고, 아무것도 없는 빈 사이트, 서버에 이런 공격이 오리라곤 생각도 못하고 있었기에 두번 세번 당황했습니다.</p>\n<p>일이 터지기 전에 미리 조심해야 함을 다시 깨닫게 되는 여행이었고, 빈 사이트가 오히려 더 위험하다는걸 깨닫게 되었습니다.</p>","frontmatter":{"title":"여행중인 나를 당황하게 한 멀웨어 공격","date":"July 20, 2015","tags":["malware"]}}},"pageContext":{"slug":"/posts/malware","previous":{"fields":{"slug":"/posts/php-fastcgi"},"frontmatter":{"title":"Fast CGI => php5-fpm.sock 오류 해결하기"}},"next":{"fields":{"slug":"/posts/browserify"},"frontmatter":{"title":"Browserify와 Watchify"}}}},"staticQueryHashes":["1576648375","764694655"]}