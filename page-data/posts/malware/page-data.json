{"componentChunkName":"component---src-templates-post-template-tsx","path":"/posts/malware","result":{"data":{"site":{"siteMetadata":{"title":"June"}},"markdownRemark":{"id":"612d739d-98ce-53ac-8213-2b18968e43c8","excerpt":"뜬금없지만 이번 7월 16일 부터 7월 1…","html":"<p>뜬금없지만 이번 7월 16일 부터 7월 19일까지 일본 여행을 가게 되었습니다. 물론 이미 잘 다녀온 여행이고 즐거웠습니다.\n그런데 여행 도중 갑자기 이용중인 서버 호스팅 사이트로부터 문자를 받게 되었습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f72cd5dd07b5ec3741696bff941b6eea/d72d4/message.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 92.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAAC50lEQVQ4y4VUiW7aQBD1//9DIhUpaUsOQkgg4T7CHa4cTdq0USUTwNyXgNiG131jGaVS01gadnaZfTuz+95om80GNMAZ3xo/y7IwHI7QbLbQ6RiYTmcYjyeYz+fim6Ypce4ezd343kfAfn+Al5eW2GQyVYBjBTZV/mQL6IJqdEzTxuurJWZZ663P9eXyVXzb3mzjOK5WphjjnRgHWLMsG09Pv1EoXCMSSSAQCCGbLal5BfF4BpXKDYrFqqxxpF1dFVGt3qJUqiEaSeL6uoF2uy/ZaqZpodH4hlgshfPzS5ydhZBO55DLlXB8fKpA07K+t/cV4XAcR0d+XF7G1EENBVRHMnmlwG/UdXSxWKygsYTb20dEo0l8+XyATCaPi4sofL4AgsGwgBwenihwv8qsIFU4B1+gVruTjHd3PYLBagXw/v6HZBIOJ1Au11V2ZcmQYKlUTg7hGjOiH1FlZrNFuSpasVjB87Mud6rxguv1e+zsfILffy7ALIknhkIRnJyc4fQ0iIMDn2QYjaakfP7XbBpotXowjCF03ZDH0fjT7Q7VHRgqoCPWanXFDGOguNcXnyPnNM51vSMP4cYMhxOs1x/w8COO/itOe8vy/ymFpKZSSObRaPS+Ut4/1VWKLRtnM0dyi8VCSLxcrpQtVZnrv/ZprHswmGzvTdfbMrbbPblPjv3+eGuM5Rqt0+lJPOPm84UDyFcmsUkF8s3j2Rc/kcjInMSlerzeY3l9kp2vTpWkUlmZ8/X50rZtO0ohRagUkpk8y+fLAkRAkjuTzgt9SJVkMqu4WpM4ypOqIj+3gCT23d13FVCQLGKxtKiG2RCEG1kBs6FKGEsiE5ycJXdZTa83cpTCDKkUSoma5Caynyczy5DKkD6BCcKD9ve94lO/NIeTPSdDyuXx8ZcKjEsHYdd5ePgp5VBulB67CXXL7ClJjrw3AlEhHCkOoQ0zJA3Y1wjOK2DXeNsT3d7n9kO3Z/JlXWO5/P4AXatcsRRQrxEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"message\"\n        title=\"message\"\n        src=\"/static/f72cd5dd07b5ec3741696bff941b6eea/e85cb/message.png\"\n        srcset=\"/static/f72cd5dd07b5ec3741696bff941b6eea/070ae/message.png 120w,\n/static/f72cd5dd07b5ec3741696bff941b6eea/8ff5a/message.png 240w,\n/static/f72cd5dd07b5ec3741696bff941b6eea/e85cb/message.png 480w,\n/static/f72cd5dd07b5ec3741696bff941b6eea/d72d4/message.png 494w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><code class=\"language-text\">초과금 과금예정</code> 이란 단어에 스트레스가 쫘아악 올라가더군요;;;</p>\n<p>여행 도중이었기 때문에 바로 서버를 꺼주고 여행이 끝난 뒤 어떤 공격을 받은건지 확인을 했습니다.</p>\n<p>먼저 서버 호스팅의 트래픽 사용량과 로그를 확인해보았습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d8c90d87a4e7911a7a4f797619415e3c/077b7/traffic1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB6UlEQVQ4y22T2W7bMBBF9f9/1pcWRRogQVzHS+x4k0iKFMVNvp0ZSV6APgw0Ii/PbGT1vlji7WOJX7//yPdzvUWICTEVhJSR8gAfC6wPMK4Xsz7SXkEerrCdx373hde9w9ZkVIvNAS/vS/z4+YLP3Rm1dgIztoMPBCZgbSM23zU+Vnu8Lbf4Oir0+Sp7ylg0SuNMGu0Tqt3FYX3Q2Bw1vpXH2fTQXcLFeJyUQ2MDDjrI/ue+xuqgsD21OOkOykXUbS/almAhRlT7swJbl4Fj02Kx2hEkwviCv+sdrTmorojmcDGgWDg1FgvaUy5JcD7DAXpqVdVaC2sd9apI7/g/l0HMku/7gK4f19lYF0nnnEOhHqacYUwra5n8qm0tTNuOwpTEZxj/K61HIPWSdWy8J4HFv046I+XegGz/A+oZ2I+AOXAINABjJl1G3TSyNgLtFHkqmdO/A81ThmbKsGegHoF5quSWIffvDoy3DHMpAmegD1n6Z10nfeufMiSgegCy0D0IH0tm3/dRgPYByIfvwysC56GkuYec5XOzBzo4kN/K2lwy68bA4aE1Wcq/AS2N33WdAHgo83UY+FlRFpGeH2fI63MlPADeY7+UMXChTG8ZPpU89YaFWq5Dkic43lf7lGGZdByMZ8DAf+yw65m2ARHBAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"traffic1\"\n        title=\"traffic1\"\n        src=\"/static/d8c90d87a4e7911a7a4f797619415e3c/e85cb/traffic1.png\"\n        srcset=\"/static/d8c90d87a4e7911a7a4f797619415e3c/070ae/traffic1.png 120w,\n/static/d8c90d87a4e7911a7a4f797619415e3c/8ff5a/traffic1.png 240w,\n/static/d8c90d87a4e7911a7a4f797619415e3c/e85cb/traffic1.png 480w,\n/static/d8c90d87a4e7911a7a4f797619415e3c/37523/traffic1.png 720w,\n/static/d8c90d87a4e7911a7a4f797619415e3c/d9199/traffic1.png 960w,\n/static/d8c90d87a4e7911a7a4f797619415e3c/077b7/traffic1.png 1166w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/87431f4ff1322cfc3fe8667dda99f26d/b5cea/traffic2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.16666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACtUlEQVQ4y01Tu5LTMBR1DTsw2+wA9f4AFT1fADNQwD9Q8A80MENHx1fQU8LQwyTZTbKJHTl+xC/Zli3JzuZwr5KBLc7oXunq6ErnyFNdh6au0TY1+r5HRzmPTdMgSWL4IkAUCWwJIo6x9AWy6n/tXVRVBY83pmmKmhJrLYzWsATtSCXiVELWJYqyogN6JJGCrCys0a7WGONGTZBSwouiCEIINJTcjiNGOxwxWhwU0FfAbg3ojGAsOkM3sD32A9dZjDRyPBBxzYRMxqR87cN+7wrG0dBu4Fv5Hc/Nc3xIv+Cdeo9LfYkH6iHe6LfACJhBY09NOHKCu3Jd0rWIsJYNuraHUj3GfkRQxHhaPMO99gxP2sc4r89xIR/hfnOGV9VroAMaJdEpBc06UHeuw4m4xkZssA23yPMCi8US0TbGTbCCKAUmiwmmqym2eYSFWGC+mSMpEycavxl3pYg0zzKotoX3+9onwhBis0FZlvB9HyIUSJMUTdUgDEIk2wR1WaPYFYhERB1pR9gSAYNjJuXYGwfrlGKVWHqtjct5MSKbxGSdKI4cOE5S6q5tXC2TdJ0iCykXM7GzTZbtnG0MWYH9xZbpaYOkOUbtfNo4sHj6VMN2qVtFluK4P4qSJAnCMHSFbJvBDv+s4BQ84fZO7JxgeX2AWJK1mgPNmaMPmYzBCh32oytyOPmM4+MB9nTI6TAiOJC1Pudf8dF8AixQVAW8PMsR01vxday2pBQZt+vpJ9BvoPfsFL1rr11sTnlH6yOtV7LDeXaBF+oltUmEMoe3yfifbpHtMnrLCtPZAqtVgCKvEJKis9mcflKEopD0AVJMJlfYkdq1VEhozw//JxblEqo+qu39+jPFzWqNm+WSfJgR2Q2CIHD2mc/nuLqaYb1e05xP5FM3z8o6q5ATBjVAN9opz+L9BeK5EfhdarE5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"traffic2\"\n        title=\"traffic2\"\n        src=\"/static/87431f4ff1322cfc3fe8667dda99f26d/e85cb/traffic2.png\"\n        srcset=\"/static/87431f4ff1322cfc3fe8667dda99f26d/070ae/traffic2.png 120w,\n/static/87431f4ff1322cfc3fe8667dda99f26d/8ff5a/traffic2.png 240w,\n/static/87431f4ff1322cfc3fe8667dda99f26d/e85cb/traffic2.png 480w,\n/static/87431f4ff1322cfc3fe8667dda99f26d/37523/traffic2.png 720w,\n/static/87431f4ff1322cfc3fe8667dda99f26d/d9199/traffic2.png 960w,\n/static/87431f4ff1322cfc3fe8667dda99f26d/b5cea/traffic2.png 1140w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/23795726d8a49d653e1797ccfd96a11e/0f246/traffic3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20.833333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAaUlEQVQY06WP0QqAIAxF+/9/DCIyCiGTnDNLbzgoqLdqcLhsgwO3spxwMtEGF3aEwGBmhHWV9N4LRCSUm3MOKSXknC/KXjW9Rt0OKDkaEmF5fhkRKm3RjQZKz9CW/wuflRfebjXeEGPEAROTOkW6QduiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"traffic3\"\n        title=\"traffic3\"\n        src=\"/static/23795726d8a49d653e1797ccfd96a11e/e85cb/traffic3.png\"\n        srcset=\"/static/23795726d8a49d653e1797ccfd96a11e/070ae/traffic3.png 120w,\n/static/23795726d8a49d653e1797ccfd96a11e/8ff5a/traffic3.png 240w,\n/static/23795726d8a49d653e1797ccfd96a11e/e85cb/traffic3.png 480w,\n/static/23795726d8a49d653e1797ccfd96a11e/37523/traffic3.png 720w,\n/static/23795726d8a49d653e1797ccfd96a11e/d9199/traffic3.png 960w,\n/static/23795726d8a49d653e1797ccfd96a11e/0f246/traffic3.png 1118w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>... 눈물이 앞을 가립니다...</p>\n<p>...서버를 켜주고 (트래픽 차단을 해제하지 않아도 서버만 켜주면 사이트가 들어가지더군요...) coda 프로그램을 이용해 access.log 파일과 error.log 파일을 받았습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/167d8b3ce21b54fdd9d5a9f819b1e282/cd536/log1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 4.166666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAARElEQVQI1x3L2w3AIAxDUQYolPBOAkLq/ju6kC9LV8cu6YKvDaF1RBYQK56UQafftSYTvlTEwXj7QNmf+fslUTN5bXM/1hsZFVZymd0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"log1\"\n        title=\"log1\"\n        src=\"/static/167d8b3ce21b54fdd9d5a9f819b1e282/e85cb/log1.png\"\n        srcset=\"/static/167d8b3ce21b54fdd9d5a9f819b1e282/070ae/log1.png 120w,\n/static/167d8b3ce21b54fdd9d5a9f819b1e282/8ff5a/log1.png 240w,\n/static/167d8b3ce21b54fdd9d5a9f819b1e282/e85cb/log1.png 480w,\n/static/167d8b3ce21b54fdd9d5a9f819b1e282/37523/log1.png 720w,\n/static/167d8b3ce21b54fdd9d5a9f819b1e282/d9199/log1.png 960w,\n/static/167d8b3ce21b54fdd9d5a9f819b1e282/cd536/log1.png 1114w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c1f5ae9b83aca3685a142134781b891d/701e9/log2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 9.166666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAgUlEQVQI1y2N2Q6CMAAEiXhxCtIWKYicAYsY/f+PG0F92Eyy2cxaXhSTdgPl842qW67zi0vXI6oaUVbk5kGcF+jRoJqOtO3RgyHKNP45IRCSg+d/44QhlnuKUMuomGbkIinMj6tspR4nAqnIhjviViOX07XzE8HecdkdHTa2/c+WD4GFM3u5z5YEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"log2\"\n        title=\"log2\"\n        src=\"/static/c1f5ae9b83aca3685a142134781b891d/e85cb/log2.png\"\n        srcset=\"/static/c1f5ae9b83aca3685a142134781b891d/070ae/log2.png 120w,\n/static/c1f5ae9b83aca3685a142134781b891d/8ff5a/log2.png 240w,\n/static/c1f5ae9b83aca3685a142134781b891d/e85cb/log2.png 480w,\n/static/c1f5ae9b83aca3685a142134781b891d/37523/log2.png 720w,\n/static/c1f5ae9b83aca3685a142134781b891d/d9199/log2.png 960w,\n/static/c1f5ae9b83aca3685a142134781b891d/701e9/log2.png 1780w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a6f0d27f841b18552400ebb4c9e9e1b5/a88f6/log3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 3.3333333333333335%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAO0lEQVQI1z2Lxw0AIAwD+VJS6PtPagKReFjWnexAfYDXRtL6O1uK+UiMXBuS6PORxVmdaUzft45yY58Dn+kXkAbKfiUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"log3\"\n        title=\"log3\"\n        src=\"/static/a6f0d27f841b18552400ebb4c9e9e1b5/e85cb/log3.png\"\n        srcset=\"/static/a6f0d27f841b18552400ebb4c9e9e1b5/070ae/log3.png 120w,\n/static/a6f0d27f841b18552400ebb4c9e9e1b5/8ff5a/log3.png 240w,\n/static/a6f0d27f841b18552400ebb4c9e9e1b5/e85cb/log3.png 480w,\n/static/a6f0d27f841b18552400ebb4c9e9e1b5/37523/log3.png 720w,\n/static/a6f0d27f841b18552400ebb4c9e9e1b5/d9199/log3.png 960w,\n/static/a6f0d27f841b18552400ebb4c9e9e1b5/a88f6/log3.png 1900w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&quot;x00_-gawa.sa.pilipinas.2015&quot;\n&quot;http://google.com/search?q=2+guys+1+horse&quot;\n&quot;/Ringing.at.your.dorbell!&quot;</code></pre></div>\n<p>위 사진에서 뿐만 아니라 많은 로그들이 있었으나, 3개의 문장들이 많은 반복이 있었으므로 3개의 문장들을 기준으로 구글링을 해봤습니다.</p>\n<p><a href=\"http://www.skepticism.us/2015/05/13/\" target=\"_blank\" rel=\"noopener\">shellshock attack</a> 라는 malware였습니다. (해결 방법까지 제공!)</p>\n<p>ps. 현재 사이트를 운영중인게 아니라 큰 조치를 취할 필요는 없었습니다.\nphpschool 호스팅을 쓰면서 무료로 제공하는 Dnszi에서, 유료면서 동일 IP에 대한 반복적인 리퀘스트를 제한해준다고 추천받은 Dnsever로 (유료지만..ㅠㅠ)\nDNS를 옮기는게 제가 취한 조치였습니다.</p>\n<hr>\n<p>여행 도중이란 상황에 많이 당황하고, 아무것도 없는 빈 사이트, 서버에 이런 공격이 오리라곤 생각도 못하고 있었기에 두번 세번 당황했습니다.</p>\n<p>일이 터지기 전에 미리 조심해야 함을 다시 깨닫게 되는 여행이었고, 빈 사이트가 오히려 더 위험하다는걸 깨닫게 되었습니다.</p>","frontmatter":{"title":"여행중인 나를 당황하게 한 멀웨어 공격","date":"July 20, 2015","tags":["malware"]}}},"pageContext":{"slug":"/posts/malware","previous":{"fields":{"slug":"/posts/php-fastcgi"},"frontmatter":{"title":"Fast CGI => php5-fpm.sock 오류 해결하기"}},"next":{"fields":{"slug":"/posts/browserify"},"frontmatter":{"title":"Browserify와 Watchify"}}}},"staticQueryHashes":["1576648375","1963346411"]}