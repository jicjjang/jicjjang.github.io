{"componentChunkName":"component---src-templates-post-template-tsx","path":"/posts/malware","result":{"data":{"site":{"siteMetadata":{"title":"June"}},"markdownRemark":{"id":"612d739d-98ce-53ac-8213-2b18968e43c8","excerpt":"뜬금없지만 이번 7월 16일 부터 7월 1…","html":"<p>뜬금없지만 이번 7월 16일 부터 7월 19일까지 일본 여행을 가게 되었습니다. 물론 이미 잘 다녀온 여행이고 즐거웠습니다.\n그런데 여행 도중 갑자기 이용중인 서버 호스팅 사이트로부터 문자를 받게 되었습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 480px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f72cd5dd07b5ec3741696bff941b6eea/d72d4/message.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 92.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAAC8klEQVQ4y4VUC0/iQBDm//8IE5M7Y84HCoLgg6dUQEC4E2PuBKU8i0B5lUIpzM03tXjmEtxkurOzu/Pq962HeKzX662yWCxoOjVELMui+XxBy+VSxLZtPvPhw4PPtoH9wUAnTdOoXm/QaDSm4XBI4/FYxDTNT+c9+CDSfA6xOJvPumkuRLftNVnLldgsy5Yz2IOOeTabOw6RQb3eplQqS5FIgo6OTikaTVI6nafLyxjPOcpkChSPp0hR7kQSiVvZz+VKFA5f081Nhn10yDBM8tj2ip6fa3R1FWMHUfL5gnI5k8mzHqCLi6hc2tv7QcHghewHAmEJUiqV2blC2WyBarUWt8BwHFYqNbq+TtDBgZcdRCTDw8MT8vvPOVCcvF4fr70Ui6Vk7+wsJHvp2xwViw+0u/tNskYbxOHra0MyRMlIH6WkUhm5DLtTpkL5/E/eT4sN66enCr2+NMQOfTqdOQ6r1TpH+U7Hxz4pG727uyvSTTItWYdDTskIgqDIHr3GvVarR51On3uocclT8ljWkvr9ERt71G53+UD3XX+jbndAb2+6rKG7omn9zTl33esNBZNbceiC9avx7xnPNqZgrFYr0vUhZ9R+B/aIKxrQZDLhEicbYG+Y8lVUzJPJlDFmCEsMY7ahn2nOmRT2/0wZDicC7kajI39cVVvUbGqMrabY3D45PdSlf7Bjxhnc0fWxkyFKqlRUBm9EsLWzs0uh0BWDW5E/ib9+fn5J+/uHAuyTkzPGpV+YBRYBGcAwmLJYWC6wVTbG6fQ0IEDGQeAM8AAzoMMp9hEom70XPAJGSYaWomQ5Y+3DYbWqCqD9/qBkAUYgMziAXio9SkZgUbFYFiCDjgA4qkGwZrP74RA8RBlgCBw9Pv4R8uMCLsIR1mgJdJSP7F+YJQA1soPgR3nwdKlqW0ouFH5JOXB4f/9At8xVCGzl8m8pF+1ANWgDHMIR+gciCLDxQap479y3Du+bq7uCN3HJ7yF0zBC8gXiyIGAcxl/0/F17ZnzfQQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"message\"\n        title=\"message\"\n        src=\"/static/f72cd5dd07b5ec3741696bff941b6eea/e85cb/message.png\"\n        srcset=\"/static/f72cd5dd07b5ec3741696bff941b6eea/070ae/message.png 120w,\n/static/f72cd5dd07b5ec3741696bff941b6eea/8ff5a/message.png 240w,\n/static/f72cd5dd07b5ec3741696bff941b6eea/e85cb/message.png 480w,\n/static/f72cd5dd07b5ec3741696bff941b6eea/d72d4/message.png 494w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><code class=\"language-text\">초과금 과금예정</code> 이란 단어에 스트레스가 쫘아악 올라가더군요;;;</p>\n<p>여행 도중이었기 때문에 바로 서버를 꺼주고 여행이 끝난 뒤 어떤 공격을 받은건지 확인을 했습니다.</p>\n<p>먼저 서버 호스팅의 트래픽 사용량과 로그를 확인해보았습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 480px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d8c90d87a4e7911a7a4f797619415e3c/077b7/traffic1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB6ElEQVQ4y3WT6a7TMBCF+/6Pxh8kBOgiaEtuG5qlSbwvcdLDjJMoAUQlq2PPyTeLx6eiKHAvf+F8vuByvaIke5pmvADM82tZL97tP95NM2nI8CGgrSt8rgIqNeL0473Cp7czPnz8glsjIIxHHCcIZeBjgie7lQHXe4Nvlzu+fv+JspUI6ZV1vVCQpO1sgvYRp1ur8d5I3J8aj96hHiwGEwniUHUaT0WRRUBRCxSVoKAKt1ah6g160j2VR0PfKDsiBAKWdYe6k3AJeDwFrrcHJG0ECc5FmcEDRWddM2jQMapVp/yEQYes4/8QqWSlNYwxSNQ37ocme6K+pTRBk89TVONitvWqCzHCWpt7O44jlawwppTtk1QaitYCjNlmYCTnMAg4OrOezxWUJiD5vA/gRI66OB6B+j9AsQDNBlwDO+8hpco6LrPre4KtQHUEcuQDUAj5V4Yr0O3ALcMdyL3RZo28l8I94Y98GGFpcSBjXfZloNqB/TDsQC7ZbkIq5Zjhv0CbfUsPl8tjEFdyACq65VXIt7wK0zTlMnl4t5I33R8ZRu613G+Zx4Ez5CfGg5nHgWx+fuxjoKMMF90yKp4q4VEjGY1XytnP9BTjluEGPDabIwq65UClbBnyHLLOOpf38zqvDOcEGPgbhDrtACG5LD0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"traffic1\"\n        title=\"traffic1\"\n        src=\"/static/d8c90d87a4e7911a7a4f797619415e3c/e85cb/traffic1.png\"\n        srcset=\"/static/d8c90d87a4e7911a7a4f797619415e3c/070ae/traffic1.png 120w,\n/static/d8c90d87a4e7911a7a4f797619415e3c/8ff5a/traffic1.png 240w,\n/static/d8c90d87a4e7911a7a4f797619415e3c/e85cb/traffic1.png 480w,\n/static/d8c90d87a4e7911a7a4f797619415e3c/37523/traffic1.png 720w,\n/static/d8c90d87a4e7911a7a4f797619415e3c/d9199/traffic1.png 960w,\n/static/d8c90d87a4e7911a7a4f797619415e3c/077b7/traffic1.png 1166w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 480px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/87431f4ff1322cfc3fe8667dda99f26d/b5cea/traffic2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.16666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACn0lEQVQ4y11TS27UQBD1BnECkECKiMIJgoANS1iy4xSEBTvOwgW4BHuWWYAyyYSMPTP+O2237W5/2vZMHlU9M1GENKXqane9rn7vjdM0Ddq2BeeHoZRCmqYIQx9B4MP3fdyKFH4QoKwqe0b/11PRvsONt1kGmecYhwGm7zEYY3PTKmS3mgBqlHUFkQ0QSY+qmO7PGMqD2eW6ruFEUUQTBJBFge00WdBpGDFNBmiAtgLSJaAToDYKuclRDAU2I53hs5R5zX2KAfkJURyjlBJ3m409MI0ENgA/5S+8NW9wln/DmfqKZ/1zPNKPcdq9Aib6jQM2NAQDct49mZ7DXElZotEdcdegbw3VGh/FJzzRT3FSn+BIHeG4fIkX+hjv5QcYTZRoDU2U9aRBTWAczlV4g8XKRRiEECLHzc0CgR/AWy0hpIC78LCgPZEJxPQS13MhS2n5Yv4lvYxFzUkDTRc4f5cx1n6IKApREI9RGJKyITKaWlXKXpTGKYq8IFpKWze6sc2HYGCrOgOOA6lE0ZNiXdfZzIrxrUmSIE5iO1kUR0jSXV0TwMFqbdtQ3856DOzwRyEESpqOrdAz6D40P4uCeWK+2v0U/M1w0OVKtxD5bm055CnYOqzyllQeH1jBKniIfT1xWMuMuNsOCD1Q75a+7X0Y7jljH7JtNtN4D3BvC97j9YNLxrEHyF3f5Q987r4A493ONpLIZttUZUljszkbS7rpjQ1NNmqb1q77jmsWgnlrMdXA6/QdThX5sgOquoQT5CH8yEdGf788L3F97ZJ1XOKVFI8SXM7mWK8DW2dZjouLSxpA0DSaXFHi9/oPvMIjvpXl2jm/WmBOPvNc14Ku1ysbS/Kh6y4wm82wojXHfH5l9w5W0VrBNAad6mzNHP4DpkER3sg0chMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"traffic2\"\n        title=\"traffic2\"\n        src=\"/static/87431f4ff1322cfc3fe8667dda99f26d/e85cb/traffic2.png\"\n        srcset=\"/static/87431f4ff1322cfc3fe8667dda99f26d/070ae/traffic2.png 120w,\n/static/87431f4ff1322cfc3fe8667dda99f26d/8ff5a/traffic2.png 240w,\n/static/87431f4ff1322cfc3fe8667dda99f26d/e85cb/traffic2.png 480w,\n/static/87431f4ff1322cfc3fe8667dda99f26d/37523/traffic2.png 720w,\n/static/87431f4ff1322cfc3fe8667dda99f26d/d9199/traffic2.png 960w,\n/static/87431f4ff1322cfc3fe8667dda99f26d/b5cea/traffic2.png 1140w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 480px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/23795726d8a49d653e1797ccfd96a11e/0f246/traffic3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20.833333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAfklEQVQY052PbQvCMAyE9/9/5EDZKO5FWtq0WW1zdkFFhyB48JB8yB25zsYCl6pypRsCF6QYERvMrPNJCAFEpLv3HrVWiMjH7MzqcTYrxtlidgzaCuRxcGQ3vJuP0sBxsuiHC05mweSSBjYH/pEGamWWV2Vqlb9994tdOWfcAf8GOip98ljaAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"traffic3\"\n        title=\"traffic3\"\n        src=\"/static/23795726d8a49d653e1797ccfd96a11e/e85cb/traffic3.png\"\n        srcset=\"/static/23795726d8a49d653e1797ccfd96a11e/070ae/traffic3.png 120w,\n/static/23795726d8a49d653e1797ccfd96a11e/8ff5a/traffic3.png 240w,\n/static/23795726d8a49d653e1797ccfd96a11e/e85cb/traffic3.png 480w,\n/static/23795726d8a49d653e1797ccfd96a11e/37523/traffic3.png 720w,\n/static/23795726d8a49d653e1797ccfd96a11e/d9199/traffic3.png 960w,\n/static/23795726d8a49d653e1797ccfd96a11e/0f246/traffic3.png 1118w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>... 눈물이 앞을 가립니다...</p>\n<p>...서버를 켜주고 (트래픽 차단을 해제하지 않아도 서버만 켜주면 사이트가 들어가지더군요...) coda 프로그램을 이용해 access.log 파일과 error.log 파일을 받았습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 480px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/167d8b3ce21b54fdd9d5a9f819b1e282/cd536/log1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 4.166666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAARUlEQVQI1x2KWxKAIAwDPYBgbQeUlof3v2TM8JVNsoe8jlwf5FKhMTYnsnjgVOPWcdFJpTAbpAVsftvTPtkdN10bC8L/B9SIGQwUvELSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"log1\"\n        title=\"log1\"\n        src=\"/static/167d8b3ce21b54fdd9d5a9f819b1e282/e85cb/log1.png\"\n        srcset=\"/static/167d8b3ce21b54fdd9d5a9f819b1e282/070ae/log1.png 120w,\n/static/167d8b3ce21b54fdd9d5a9f819b1e282/8ff5a/log1.png 240w,\n/static/167d8b3ce21b54fdd9d5a9f819b1e282/e85cb/log1.png 480w,\n/static/167d8b3ce21b54fdd9d5a9f819b1e282/37523/log1.png 720w,\n/static/167d8b3ce21b54fdd9d5a9f819b1e282/d9199/log1.png 960w,\n/static/167d8b3ce21b54fdd9d5a9f819b1e282/cd536/log1.png 1114w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 480px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c1f5ae9b83aca3685a142134781b891d/701e9/log2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 9.166666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAgUlEQVQI1y2N2Q6CMAAEiXhxCtIWKYicAYsY/f+PG0F92Eyy2cxaXhSTdgPl842qW67zi0vXI6oaUVbk5kGcF+jRoJqOtO3RgyHKNP45IRCSg+d/44QhlnuKUMuomGbkIinMj6tspR4nAqnIhjviViOX07XzE8HecdkdHTa2/c+WD4GFM3u5z5YEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"log2\"\n        title=\"log2\"\n        src=\"/static/c1f5ae9b83aca3685a142134781b891d/e85cb/log2.png\"\n        srcset=\"/static/c1f5ae9b83aca3685a142134781b891d/070ae/log2.png 120w,\n/static/c1f5ae9b83aca3685a142134781b891d/8ff5a/log2.png 240w,\n/static/c1f5ae9b83aca3685a142134781b891d/e85cb/log2.png 480w,\n/static/c1f5ae9b83aca3685a142134781b891d/37523/log2.png 720w,\n/static/c1f5ae9b83aca3685a142134781b891d/d9199/log2.png 960w,\n/static/c1f5ae9b83aca3685a142134781b891d/701e9/log2.png 1780w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 480px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a6f0d27f841b18552400ebb4c9e9e1b5/a88f6/log3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 3.3333333333333335%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAQUlEQVQI1yXLQRLAIAgDQI+KCoJo+/+PpjA9bUiGMv2AzwXJgjwv6mSM7ehqaMzhDiVUtNzsv9NhDlqKnjl+svsAnuAXiznOhp0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"log3\"\n        title=\"log3\"\n        src=\"/static/a6f0d27f841b18552400ebb4c9e9e1b5/e85cb/log3.png\"\n        srcset=\"/static/a6f0d27f841b18552400ebb4c9e9e1b5/070ae/log3.png 120w,\n/static/a6f0d27f841b18552400ebb4c9e9e1b5/8ff5a/log3.png 240w,\n/static/a6f0d27f841b18552400ebb4c9e9e1b5/e85cb/log3.png 480w,\n/static/a6f0d27f841b18552400ebb4c9e9e1b5/37523/log3.png 720w,\n/static/a6f0d27f841b18552400ebb4c9e9e1b5/d9199/log3.png 960w,\n/static/a6f0d27f841b18552400ebb4c9e9e1b5/a88f6/log3.png 1900w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&quot;x00_-gawa.sa.pilipinas.2015&quot;\n&quot;http://google.com/search?q=2+guys+1+horse&quot;\n&quot;/Ringing.at.your.dorbell!&quot;</code></pre></div>\n<p>위 사진에서 뿐만 아니라 많은 로그들이 있었으나, 3개의 문장들이 많은 반복이 있었으므로 3개의 문장들을 기준으로 구글링을 해봤습니다.</p>\n<p><a href=\"http://www.skepticism.us/2015/05/13/\">shellshock attack</a> 라는 malware였습니다. (해결 방법까지 제공!)</p>\n<p>ps. 현재 사이트를 운영중인게 아니라 큰 조치를 취할 필요는 없었습니다.\nphpschool 호스팅을 쓰면서 무료로 제공하는 Dnszi에서, 유료면서 동일 IP에 대한 반복적인 리퀘스트를 제한해준다고 추천받은 Dnsever로 (유료지만..ㅠㅠ)\nDNS를 옮기는게 제가 취한 조치였습니다.</p>\n<hr>\n<p>여행 도중이란 상황에 많이 당황하고, 아무것도 없는 빈 사이트, 서버에 이런 공격이 오리라곤 생각도 못하고 있었기에 두번 세번 당황했습니다.</p>\n<p>일이 터지기 전에 미리 조심해야 함을 다시 깨닫게 되는 여행이었고, 빈 사이트가 오히려 더 위험하다는걸 깨닫게 되었습니다.</p>","frontmatter":{"title":"여행중인 나를 당황하게 한 멀웨어 공격","date":"July 20, 2015","tags":["malware"]}}},"pageContext":{"slug":"/posts/malware","previous":{"fields":{"slug":"/posts/php-fastcgi"},"frontmatter":{"title":"Fast CGI => php5-fpm.sock 오류 해결하기"}},"next":{"fields":{"slug":"/posts/browserify"},"frontmatter":{"title":"Browserify와 Watchify"}}}}}