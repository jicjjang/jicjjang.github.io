{"componentChunkName":"component---src-templates-post-template-tsx","path":"/posts/prototype-inheritance-model","result":{"data":{"site":{"siteMetadata":{"title":"June"}},"markdownRemark":{"id":"f36b4ef5-dd78-5672-a720-684c9a430dc0","excerpt":"몇일 전, 페이스북에 아래와 같은 질문이 올라왔었습니다. 위 질문에 맞는 대답은 해드렸지만 최근에 프로토타입에 대해 소홀한 부분이 있어서\n자바스크립트에서의 상속에 대해 한번 정리를 해보려합니다. 자바스크립트가 사용하는 프로토타입 모델에서의 상속은 아래와 같습니다. 결과 barz…","html":"<p>몇일 전, 페이스북에 아래와 같은 질문이 올라왔었습니다.</p>\n<hr>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">javascript에서 상속구조를 만들 때\n\nfunction Person(name) {\n  this.name = name;\n}\nfunction Student(name, school) {\n  Person.call(this, name);\n  this.school = school;\n}\n\nStudent.prototype = Object.create(Person.prototype);\nStudent.prototype.constructor = Student;\n\nvar student1 = new Student(&quot;lee&quot;, &quot;a&quot;);\nconsole.log(student1.name) //lee\n\n이런 식으로 만들고 있는데,\nStudent.prototype = Object.create(Person.prototype);\n이 부분에서 이 것과\nStudent.prototype = new Person();\n을 하는 것의 큰 차이점을 잘 모르겠습니다 ㅠ_ㅠ</code></pre></div>\n<p>위 질문에 맞는 대답은 해드렸지만 최근에 프로토타입에 대해 소홀한 부분이 있어서\n자바스크립트에서의 상속에 대해 한번 정리를 해보려합니다.</p>\n<hr>\n<p>자바스크립트가 사용하는 프로토타입 모델에서의 상속은 아래와 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">Foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">Foo</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">method</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Foo의 인스턴스를 만들어 Bar의 prototype에 할당</span>\n<span class=\"token class-name\">Bar</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Bar의 prototype의 생성자는 자기 자신.</span>\n<span class=\"token class-name\">Bar</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>constructor <span class=\"token operator\">=</span> Bar<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> barz <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// bar 인스턴스를 만든다.</span></code></pre></div>\n<h2 id=\"결과\" style=\"position:relative;\">결과<a href=\"#%EA%B2%B0%EA%B3%BC\" aria-label=\"결과 permalink\" class=\"autolink-headers-- after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>barz의 생성자 Bar의 prototype은 Foo입니다. Foo의 constructor는 Bar를 가리키며,\nFoo의 prototype은 Object를 가리킵니다. 하지만 Object의 프로토타입은 다시 Foo를 가리키죠.</p>\n<ul>\n<li>\n<ol>\n<li>barz의 constructor -> Bar</li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li>Bar의 prototype -> Foo, Foo의 constructor -> Bar</li>\n<li>\n<ol>\n<li>클래스의 상속 개념을 가지는 Bar, Foo와 같은 함수들은 prototype, constructor로 순환구조를 가지게 됩니다.</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<ol start=\"3\">\n<li>Foo의 prototype -> Object</li>\n<li>\n<ol>\n<li>순환구조 최상위인 Object에 도달하면 끝이나게 됩니다.</li>\n</ol>\n</li>\n</ol>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 425px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/123c55d9a06c315a5570893f2143b4d9/2fbbf/result.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 195.00000000000003%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAnCAYAAAAPZ2gOAAAACXBIWXMAAAsSAAALEgHS3X78AAAFc0lEQVRIx4VWx3bbSBDkb3j3mSQCSeScEzMVSMkK1loOhz3v/99rayBBYpJ96DckMKjO1d3TdR2e58G2bfi+B9+NkPgzpOEc5XKKpslh2CbUkQpVoagqFEVppfstzk563ctONCpQ1TF0zYFrT2DqKjRDPBvxvdxK9/E50N4+urjs+wHyPESRTigGisxCUxq0XIdrxQjcgndihFGM0Wh0auG+huFwCG1sInRzfhzCTgt+GMI0dcjSkPdUgoxbaz+ysrf/wnVdpEmKNM0oORJKVdeII/7PcgRhCIPui3gLEfcNw4Asy6cuC8CQHyyXS8oc69UUi3mDy8s1mqpqfzdNCcdxWqB9dw9iKP4IDeLs9/twHQ9JEiKNtTaGeeqgLh1kCUPhMa551ioWgJPJ5CDrQnrioTBb07TWHdMIEBUrmFnD2AUsqQJJXmCkGZgYJsasAt2iy7RUuH2cmJ54GMfMXkCgKMKsbLCdFbiqLFyUJvzJAHr/M8xhH5Y0gC0P21OVJchHGW4BTdNsC9sVseH5I3LwXOf4VqU8E1wxBLsowGOZ4ib2ceEZeBJKXR8Dgo6OXT6oQ5bDbvQZXwjyw5viJ+XBSXCXpfhGJUt9hGYsYa2pWI8kDNvO+UOnqKJbWOCVkWFqV4i9CC7rcExrJkyeeDdRpJf7AuRcYR9a+SKVVaLxC+S2D0W49qpMUt7vqB3oecAXTSLQN5qMJyfFkx3h2fXwkEVoRjLWdLdWhy2ouK+cc/kYUGi9GvWxswP8cBeM4xJPYY1dmuInmWdGUOlMds8DvrqgM06eMsTKTLCxM9RMUm4ZfCZhrJ66ud9tvePYCVCZp3ArZGJyv0LghJBYAQNJhvTaVV2H7csZl997U2MH1W6DyimYbR8GLQxCH1EckSstWJbVNoIQ3/fb/j6pw33TRSvmdoHaapA4JfKgQezEcLSXBhCdJVp2PB63PS3ktLD32ENcuAyusAtvsHTWWOVr3CxuMc/nJOAMZVlCdJkkSQcjoXcM9lI6EgISw8pfI7Zz2KaNiAzkeA7G2rgFEWR8zNZnXe6sE4C5mcPTfWRZRQqrWNwvzCIY5pwhRxa+nzIn3MLb4MK/xtK/xDzZYJlcoGA9VnWF6XTaUtc+U39Y2GJQpYaLx2iLK3+JUgtQkW2uZlOUzLCwTiTi3IA6ARzQuoQs8pVk8OTUuLUCTDlGS6WPpP8JF8NPbdHLv5vLB4As3pwfX1oaroM1rtw5Go8Dip1ScPo9eDoMJkz+IH4ngOKipcqYqQQl5f9jZfhqRdh6Lm4jDxuTrophf9QIHyfltZf/FponLkK7gcWZIpsO/pIVfJI5u98sU94S+ZukdOQg4UKzcceB/0DrNtoIqTJAqUpISF/vPPhbl98TU6gD0peNW2+Fe3+OynYRE1QMpyXD4TAs75yo/AGQiSnkPra6gnuvxr1dciAlrMkQt2WB58CE3SZm9CdA5S2WGn9nxgRLM8RCD9A4Pr4sZ1iTuT1aJ7P1Ohr7cPtSlI4PVfSZSYfkOveuSWFrFCyhOlmzfBq4YYpmToLIso+3r2ML6/EQd+TAf9kpv9wp7mjhr2mN79xxbhyd8RyTJPSzi+cBYMfY99oAW7L0nZVjy7VurplYkkDvpiW+Jx7nioy+/ELC+0RxCKi8Wxiz/a5plQC8peuPJNiNHeJxPsN/j7d43F7jercjSTQtQQg66xaug5nSmS5Rq2vHSC3uhpzPhTOFq6dIBGtzibq4vsH9/R1WqxUqhqHmDilOwUBnYij4jiTBFaSyKpQETGlpk8wwrebYrNZYLBaYMzECUOyLgrmFCBY6S7Bi4w/pYmFylSNj+2GO3c0O2922nSWDweDN1c7dzuX/AZCjl6Edy/0fAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"result\"\n        title=\"result\"\n        src=\"/static/123c55d9a06c315a5570893f2143b4d9/2fbbf/result.png\"\n        srcset=\"/static/123c55d9a06c315a5570893f2143b4d9/070ae/result.png 120w,\n/static/123c55d9a06c315a5570893f2143b4d9/8ff5a/result.png 240w,\n/static/123c55d9a06c315a5570893f2143b4d9/2fbbf/result.png 425w\"\n        sizes=\"(max-width: 425px) 100vw, 425px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"예외-케이스\" style=\"position:relative;\">예외 케이스<a href=\"#%EC%98%88%EC%99%B8-%EC%BC%80%EC%9D%B4%EC%8A%A4\" aria-label=\"예외 케이스 permalink\" class=\"autolink-headers-- after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>만약 Bar의 프로토타입 생성자 (Bar.prototype.constructor)를 정해주지 않으면,\n상속받은 함수(new Foo())를 가리키게 됩니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 351px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7b59b9633d47feb3b642f703fbed2b0c/7c2a6/exception.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 92.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsSAAALEgHS3X78AAACqklEQVQ4y4VU2XKjMBDMn8TGgECgm8vY+MT2piqVVO3b/v+H9I7kJWuvk+xDF0KInp6ZHj0ZY1BVFfzTOgurG7R2j133hma5w+ZlxHbTQzuNJE2xWCwQx/EDpv0nv5gQRRGyLAsfeFZBFAK1Y1AiQV4WiFOGaD7HPJpd4dcE/99E+nQbxX9USqGqHaSMSG0CLVNIwdAQsV/nGYcsfTALJS2MdeBFQWRX0kdCaTCst1h3GqsVrbcOw0pjO2g4w8BzDi1aqLKmsxSYBDwQTvn7zTTJIXlD6JDJJZjt6SeLolR4fp7/SfOZ0pwR7lN+UOg/lGUJrRU1ScCaEs5KGO1h0bYt6qYJDSyLksoi6awOZbLWgnN+TzibzdB1HS6XEy5Hi8tY4fWlQb9UWNYHSvuA9/d31HWDouAhuG/inUL/cot4kYIxDiYMEpYhZ2UoflW5oCAngvDM80Do14yxgECY3RzIMm8Rh67dwmxGGOq2Uw2W7QHHcYQQMvw4EfmUPXzK/hkIb43tHBGQuXe7LZE47MjQXUcBqG5pmoQGTLWefHuXnSf0xazrOkQxRqNfDRhPF/Q9rbsctU2IMEWSLL6ckls8eflebkFekkIgpZrVTY/Xt59ouzXa5RpKO+qmuWvA7YTd4qPLSZKEDUU28PUxRlH6mtQ72lOhxuk3s/yh0NfPW+VaP4fT6YRxPJBVGNWwwJ7A84SU0yxT0Dj+D+FkTkHphtTpEhjWAw4rumXWB7iqhVY1judfyLkO0/Ftyv92KqLxK7MSe7nHxuxInQiq5mT6z66rB4X/biRxEhq0FD1O6oy1GlCQyYUor1cX4e/sL74m/DgULcDI4IPZkMojVnJAVbYwZHClq+BRzou7cftWoSfO8gyqUGh4SyCiXOJ8/kG4hAZOjviM8DcATzt54zauXQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"exception\"\n        title=\"exception\"\n        src=\"/static/7b59b9633d47feb3b642f703fbed2b0c/7c2a6/exception.png\"\n        srcset=\"/static/7b59b9633d47feb3b642f703fbed2b0c/070ae/exception.png 120w,\n/static/7b59b9633d47feb3b642f703fbed2b0c/8ff5a/exception.png 240w,\n/static/7b59b9633d47feb3b642f703fbed2b0c/7c2a6/exception.png 351w\"\n        sizes=\"(max-width: 351px) 100vw, 351px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"하지만\" style=\"position:relative;\">하지만<a href=\"#%ED%95%98%EC%A7%80%EB%A7%8C\" aria-label=\"하지만 permalink\" class=\"autolink-headers-- after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>비슷하지만 최근엔 다른 방식을 지향하게 되었습니다. 거의 똑같지만!\n<code class=\"language-text\">Bar.prototype = new Foo();</code> 대신 <code class=\"language-text\">Bar.prototype = Object.create(Foo.prototype);</code>\n를 하는것이죠. 물론 prototype.constructor도 이전과 마찬가지로 동일하게 정의해줘야 합니다.\nnew Foo()를 해도 상관은 없지만, new 연산을 사용하면 아래와 같은 이슈(??)가 생깁니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 480px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/97b184909e723955e6891b24502a6026/9b1e2/issue.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABOklEQVQoz12R6Y6DMAyEeRYgCSTkaC5ayrG07/9Ms05atNL+GIGiz+Ox3Xi3Ytnu0Faj63t0XUvqqjjnUEpBaw1jDKyOuHjzj+/pnzGGJkeFe/7IaAktPazxUNMEzngFrwLvPXKaMCeF+eIV8TZgIr4wjTUBNs70SAacQfAR40AaRwzDULteMlMpjnCp8LpOwNkIIQaIynI05x5wkJb7gtfrhZwjwbaOWlSMSmchBJ5PYo6IY/PEHni/D/zsEed5YHncyMOieTwMtqfDvqb6mOINIcTavZgUs7Ztq3HOmRiLdXEUIlWDOTvM8wwpB8hR0A7XjXZxg3P+E50kpaw7Kd+S0hhNhzFIeUNcVhrd0RQenFjORV2NUlOtpaNMtC/2SUFp+q/KIUqqEEJNVlJs+06TRErCv6n/+Eu/dBXWSTM9plYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"issue\"\n        title=\"issue\"\n        src=\"/static/97b184909e723955e6891b24502a6026/e85cb/issue.png\"\n        srcset=\"/static/97b184909e723955e6891b24502a6026/070ae/issue.png 120w,\n/static/97b184909e723955e6891b24502a6026/8ff5a/issue.png 240w,\n/static/97b184909e723955e6891b24502a6026/e85cb/issue.png 480w,\n/static/97b184909e723955e6891b24502a6026/37523/issue.png 720w,\n/static/97b184909e723955e6891b24502a6026/d9199/issue.png 960w,\n/static/97b184909e723955e6891b24502a6026/9b1e2/issue.png 1880w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><code class=\"language-text\">Bar.prototype = new Foo();</code>를 하면 필요없는 객체의 데이터까지 들어오게 됩니다.\n사실 무시할 수도 있지만, 본래의 역활과 다른 무언가까지 생기는게 찝찝하긴 합니다.</p>\n<p>또한, Object.create에도 약간의 이슈가 있는데요, IE9과 같은 마이너 브라우저에서 사용할 수\n없다는 점입니다. 이 부분은 아래 코드처럼 사전 정의를 통해 해결할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">Object<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">create</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">o</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">function</span> <span class=\"token constant\">F</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token class-name\">F</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> o<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">F</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>참고 : <a href=\"http://unikys.tistory.com/320\">[속깊은 자바스크립트 강좌] 상속, new와 object.create의 차이</a></p>\n<hr>\n<p>읽어주셔서 감사합니다.</p>","frontmatter":{"title":"자바스크립트 상속 모델","date":"February 12, 2018","tags":["javascript","inherit"]}}},"pageContext":{"slug":"/posts/prototype-inheritance-model","previous":{"fields":{"slug":"/posts/welcome-vue-card-layer"},"frontmatter":{"title":"오픈소스 소개"}},"next":{"fields":{"slug":"/posts/review-learning-http-2"},"frontmatter":{"title":"[Review] learning http/2"}}}}}