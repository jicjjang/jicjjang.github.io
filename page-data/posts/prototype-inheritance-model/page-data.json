{"componentChunkName":"component---src-templates-post-template-tsx","path":"/posts/prototype-inheritance-model","result":{"data":{"site":{"siteMetadata":{"title":"June"}},"markdownRemark":{"id":"6cb6ae8b-99cf-5e6e-b906-0c7c7b22e9be","excerpt":"몇일 전, 페이스북에 아래와 같은 질문이 올라왔었습니다. 위 질문에 맞는 대답은 해드렸지만 최근에 프로토타입에 대해 소홀한 부분이 있어서\n자바스크립트에서의 상속에 대해 한번 정리를 해보려합니다. 자바스크립트가 사용하는 프로토타입 모델에서의 상속은 아래와 같습니다. 결과 barz…","html":"<p>몇일 전, 페이스북에 아래와 같은 질문이 올라왔었습니다.</p>\n<hr>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">javascript에서 상속구조를 만들 때\n\nfunction Person(name) {\n  this.name = name;\n}\nfunction Student(name, school) {\n  Person.call(this, name);\n  this.school = school;\n}\n\nStudent.prototype = Object.create(Person.prototype);\nStudent.prototype.constructor = Student;\n\nvar student1 = new Student(&quot;lee&quot;, &quot;a&quot;);\nconsole.log(student1.name) //lee\n\n이런 식으로 만들고 있는데,\nStudent.prototype = Object.create(Person.prototype);\n이 부분에서 이 것과\nStudent.prototype = new Person();\n을 하는 것의 큰 차이점을 잘 모르겠습니다 ㅠ_ㅠ</code></pre></div>\n<p>위 질문에 맞는 대답은 해드렸지만 최근에 프로토타입에 대해 소홀한 부분이 있어서\n자바스크립트에서의 상속에 대해 한번 정리를 해보려합니다.</p>\n<hr>\n<p>자바스크립트가 사용하는 프로토타입 모델에서의 상속은 아래와 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">Foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">Foo</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">method</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Foo의 인스턴스를 만들어 Bar의 prototype에 할당</span>\n<span class=\"token class-name\">Bar</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Bar의 prototype의 생성자는 자기 자신.</span>\n<span class=\"token class-name\">Bar</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>constructor <span class=\"token operator\">=</span> Bar<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> barz <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// bar 인스턴스를 만든다.</span></code></pre></div>\n<h2 id=\"결과\" style=\"position:relative;\">결과<a href=\"#%EA%B2%B0%EA%B3%BC\" aria-label=\"결과 permalink\" class=\"autolink-headers-- after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>barz의 생성자 Bar의 prototype은 Foo입니다. Foo의 constructor는 Bar를 가리키며,\nFoo의 prototype은 Object를 가리킵니다. 하지만 Object의 프로토타입은 다시 Foo를 가리키죠.</p>\n<ul>\n<li>\n<ol>\n<li>barz의 constructor -> Bar</li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li>Bar의 prototype -> Foo, Foo의 constructor -> Bar</li>\n<li>\n<ol>\n<li>클래스의 상속 개념을 가지는 Bar, Foo와 같은 함수들은 prototype, constructor로 순환구조를 가지게 됩니다.</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<ol start=\"3\">\n<li>Foo의 prototype -> Object</li>\n<li>\n<ol>\n<li>순환구조 최상위인 Object에 도달하면 끝이나게 됩니다.</li>\n</ol>\n</li>\n</ol>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 425px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/123c55d9a06c315a5570893f2143b4d9/2fbbf/result.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 195.00000000000003%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAnCAYAAAAPZ2gOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFaUlEQVR42o1W2VYqSRD0Nzwzg9Ab3VTvG73TLOKCcNWr4z3Hh3md//+BmKhGEAW985CnaLo6KjMyM7LOLMuC53mwbRu+78F3I6TBBGnYopo3qOsxRo6ApmlQVXW/Hv6W687Odi93Jg/QNB2WacO1DYwsDebI7P7bA+k6dF0/CXp2iK6qCsIwQlnEKDOTJlDmDppSwPcYiZ0i8goEQYIojo+83gPuHvr9PoaGQODkcEQEkRYIowgWPRwM+t0+6dmhE196KP8MggB5nr9ZgSwr0EzIZ8LnoqRXCUajERzH6UxyLylSFOU0YBSGmM1mmM9aXDIhs2mFq6s5mqrg7xpVlTNxfgckvzkE2ocsf8gXcu31evBcH2nKTCcminSEYuyhLj1kyQihP0SRZ+Q5hGEYGA6HH7Iu7cw0TQghsF1HtAhxtYTIGoxECM/PEWc5tOEIhiWgmxZMYcNmyLLUDrPdeSi5SBJmjeTHzNy8arBuM9zVArfVCJHRg+j9CXdA75ULWr9bdWUA5VMNdoDSO8mL67odN6+xjZe6wAv5eqnGuHYDrNMET3WOuzTE0hf4u2qxIjUXBNU/h/wh/bSV/hc2DoH9Bq9eg0c3wX2W4rlMMTNVNHofC0PBjGtfld992ynb0wxaITJUTsVExBCsQ3VAb97e6WwA5avWOypSnijDmNgV2iBHSW8NdYAhQQxV2R6qbT1TT3H4/vB+4g+G9uSO8ewk+OWH+JknaAwV1zJkrY+BugM8EfIhYHcyAa/1Hu6cgBxOyeUMz2GJdTbGa52RwwEBjz077aG6BTUZmqv2MRMpFk6GwmOxCws2S0bfHXzCPmRZfTONYSiyrShXichRhBUiJ8SAz31FdtV7EmWHHdpJDncnWeycmmVTUXlqhm/ZguIQIk5imEN2ir1tCGlSVGQNH9XhIaBsxcIp0TgTjN0aZUTVcVK4ptcByM6SSiNbT/a1tOPCfiNbIYfW0MJNeItVtMbMmWOez3E3W6PNpxgzQVLipJTthOWDwH4uUAkYUSTm/gKRPe60LxnHsF2KgaFj0B90Yvy5Dk+GvA132AHmTIpvhcgzamFeskO2ai3D2yn3l52yLdLtBoVezIMrXAUrrteYpkssxtcoYyaprtA0TSddhwL7TWErqISP5/gWN36LkkmoIx83TcXEBN3er7w7AryglzlV5JFC+8TM3tkRGktHofYQ/3WOZf8cJvd1wvB7cSCgtv342rawCha49SZo/Qw5tW8iNdG3YElh/b/iIDfamoJa62FpCjzZOR7sGDeBx/JxMaW32h5EPRKG46S89fIf5FEb+mw5kh8UGAgH52y5c0VjFLsw1X0iv5GvLaDQBlhZLh69DE+ei6shuSUVNaUro30lXUcCq78lptIucOu4WAdLbII5cofemrzn8Paw4DuXtLxrovobQCamVKiHIw2PfoVH8rjxEnIY42dT4lcoIL5JzAnF1jDk73RkoRUxJuyU0gvZxy3aJITNcbCTq29vX3uCufaYlIA9vGCntP4SdbhEO16iYKGHSYaW15VcDv/f1eFuw9To44Gi+g/l/9WrsXE5VhnuS5ljbbPPDe43ht3171tAmWE5Kh/MCw7yGPd2hhW7ZcaavORl4KGt8JqFaE1e/bpLqflNltV3DiMOohs3xIYJuRNjDvuKsyXC43SKf39u8Hi3wnqz6UTikM+jmbILeUC18ThCU87mxC5ZNg08K+O9u0Y8rnF9u8b9/Q8sLi95B6/3JnXzJIe6rlH2U1QELAmY0tNmPEXbzHFFkLZtMeFFVN4l5d1IjoLdODgpsBoBIyfmdaREwiEVJgU2P9ZYMVQ5jC4uLnhF3qr24dST3/4H2Z2XfhgnNMkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"result\"\n        title=\"result\"\n        src=\"/static/123c55d9a06c315a5570893f2143b4d9/2fbbf/result.png\"\n        srcset=\"/static/123c55d9a06c315a5570893f2143b4d9/070ae/result.png 120w,\n/static/123c55d9a06c315a5570893f2143b4d9/8ff5a/result.png 240w,\n/static/123c55d9a06c315a5570893f2143b4d9/2fbbf/result.png 425w\"\n        sizes=\"(max-width: 425px) 100vw, 425px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"예외-케이스\" style=\"position:relative;\">예외 케이스<a href=\"#%EC%98%88%EC%99%B8-%EC%BC%80%EC%9D%B4%EC%8A%A4\" aria-label=\"예외 케이스 permalink\" class=\"autolink-headers-- after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>만약 Bar의 프로토타입 생성자 (Bar.prototype.constructor)를 정해주지 않으면,\n상속받은 함수(new Foo())를 가리키게 됩니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 351px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7b59b9633d47feb3b642f703fbed2b0c/7c2a6/exception.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 92.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACoElEQVR42o1UWZbaQAzkJgHj3e7VK8YbmFngJfnM/W9SkUw8IQwzk4/y2l1SlaReJUkCay2yLIMxBsYaWFVjl08Y6x8ouh7H84R9U0IYCdd1P8R2u8WKL/cIo5DuHuIwh0gj5DZAEnsI0xTO1oXjbLBx1ldsNjN4H5Ou7qM4joOiKChrAaMdZMaHkj49B6jzgAJ4RK6g0gIyzaF1BkvqgiC8ZnhPyNHKYoe2abCvNfatRdtl6PaGIK+EkYQSJZGSAqEhpfpD6PwlXFLmj5EvIZMKMq7h6waRrqCURRDG+LZmiVe5LJ0VMdyPJDOx1pogqVCC/EuRZ5LeFTJbYLfboSw5gEZKniql5mLyHr4/9HA8HPB06vFyNHh9LvD6lKEqLVX+SN+fcL5ciMAgjuOZ1Pf9ed9blZe0F3huQPJoYWrg0eIolFSknMw3CMMQEXVBHEczoRCC3qP5exAEWPGFfyzglsnNDlUzwvQnItLIVIO+PaEfetoczwTcvwwp5QyWzu8rjrA0NvvAz1VdYBg6NJXFOOxQ073M87d+u8Wtslkye5DTYgZHsTQpw3jC4Xik6RCoixBl5lFxrj59NilzlRdjOdPZE3p2vRj9OOHl/BNFtUdZt5DUNtpYeJ6HR9O1YK4yL7oFy2fj84z8s4omxyJJEzI++DpDNrQsS1RVNRPx8/l8IQ9rtPsAx0Gga2IEfkAFE18TLpVi/xbpjEN3xKE5oWsP9I8CFT2G6RfJup2qB5If9eHW3cJEBpOaUKs99VeELZ8w6/W7qXqX4aPR484XqcAgaWL0Myrqw1QaOmUirNf/Hlf3pKtHETlLlj/oEaM6oEqp0enQFYJGsG7Qde0c9L8yXIjjJIaODSo6cbIwo2nJcLl8xzSd5kPgI8m/AfpmO+eyc3NXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"exception\"\n        title=\"exception\"\n        src=\"/static/7b59b9633d47feb3b642f703fbed2b0c/7c2a6/exception.png\"\n        srcset=\"/static/7b59b9633d47feb3b642f703fbed2b0c/070ae/exception.png 120w,\n/static/7b59b9633d47feb3b642f703fbed2b0c/8ff5a/exception.png 240w,\n/static/7b59b9633d47feb3b642f703fbed2b0c/7c2a6/exception.png 351w\"\n        sizes=\"(max-width: 351px) 100vw, 351px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"하지만\" style=\"position:relative;\">하지만<a href=\"#%ED%95%98%EC%A7%80%EB%A7%8C\" aria-label=\"하지만 permalink\" class=\"autolink-headers-- after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>비슷하지만 최근엔 다른 방식을 지향하게 되었습니다. 거의 똑같지만!\n<code class=\"language-text\">Bar.prototype = new Foo();</code> 대신 <code class=\"language-text\">Bar.prototype = Object.create(Foo.prototype);</code>\n를 하는것이죠. 물론 prototype.constructor도 이전과 마찬가지로 동일하게 정의해줘야 합니다.\nnew Foo()를 해도 상관은 없지만, new 연산을 사용하면 아래와 같은 이슈(??)가 생깁니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/97b184909e723955e6891b24502a6026/9b1e2/issue.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABNklEQVR42m2RUXKEIBBEPYuiqIAoiKirruvm/lfqzGD2I5V8dIHWm56eIRv9hnWPaLVCUQgUIqezgKC7lBJaaxhjYK2F1RN84qe/vBAoyxJZDArzpBBDC6MUyVOxQ9u2qMoqgXmeo6okRu/A/C3i9c33PzyzWWdH9GFCZ24DWTVomlt1XaeuZSmSYW+oWf+br4iXsk4SghJeT49j83gsG67rpJFcGk9RWhYbClFQAoV9X3GdxO8eX+8XrteG1zPgPA+si8UcLbLHarA/HJkGLLFHCA7DMCQj3uFn5LpuEONEhR22dcDzCGTQkRzVBLSNpKkkMj8vsGagVEMai6PzPvgxPqfpDI1oEZcTLs7o9ED/+sSzeD1K6XTPRk+7qER6Kd4VJ2LxNyfk7hNpXhYcx07p3L/8R99XaNYi1hjJcwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"issue\"\n        title=\"issue\"\n        src=\"/static/97b184909e723955e6891b24502a6026/e85cb/issue.png\"\n        srcset=\"/static/97b184909e723955e6891b24502a6026/070ae/issue.png 120w,\n/static/97b184909e723955e6891b24502a6026/8ff5a/issue.png 240w,\n/static/97b184909e723955e6891b24502a6026/e85cb/issue.png 480w,\n/static/97b184909e723955e6891b24502a6026/37523/issue.png 720w,\n/static/97b184909e723955e6891b24502a6026/d9199/issue.png 960w,\n/static/97b184909e723955e6891b24502a6026/9b1e2/issue.png 1880w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><code class=\"language-text\">Bar.prototype = new Foo();</code>를 하면 필요없는 객체의 데이터까지 들어오게 됩니다.\n사실 무시할 수도 있지만, 본래의 역활과 다른 무언가까지 생기는게 찝찝하긴 합니다.</p>\n<p>또한, Object.create에도 약간의 이슈가 있는데요, IE9과 같은 마이너 브라우저에서 사용할 수\n없다는 점입니다. 이 부분은 아래 코드처럼 사전 정의를 통해 해결할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">Object<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">create</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">o</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">function</span> <span class=\"token constant\">F</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token class-name\">F</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> o<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">F</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>참고 : <a href=\"http://unikys.tistory.com/320\" target=\"_blank\" rel=\"noopener\">[속깊은 자바스크립트 강좌] 상속, new와 object.create의 차이</a></p>\n<hr>\n<p>읽어주셔서 감사합니다.</p>","frontmatter":{"title":"자바스크립트 상속 모델","date":"February 12, 2018","tags":["javascript","inherit"]}}},"pageContext":{"slug":"/posts/prototype-inheritance-model","previous":{"fields":{"slug":"/posts/welcome-vue-card-layer"},"frontmatter":{"title":"오픈소스 소개"}},"next":{"fields":{"slug":"/posts/review-learning-http-2"},"frontmatter":{"title":"[Review] learning http/2"}}}},"staticQueryHashes":["1576648375","1963346411"]}