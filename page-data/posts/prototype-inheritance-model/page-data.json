{"componentChunkName":"component---src-templates-post-template-tsx","path":"/posts/prototype-inheritance-model","result":{"data":{"site":{"siteMetadata":{"title":"June"}},"markdownRemark":{"id":"f36b4ef5-dd78-5672-a720-684c9a430dc0","excerpt":"몇일 전, 페이스북에 아래와 같은 질문이 올라왔었습니다. 위 질문에 맞는 대답은 해드렸지만 최근에 프로토타입에 대해 소홀한 부분이 있어서\n자바스크립트에서의 상속에 대해 한번 정리를 해보려합니다. 자바스크립트가 사용하는 프로토타입 모델에서의 상속은 아래와 같습니다. 결과 barz…","html":"<p>몇일 전, 페이스북에 아래와 같은 질문이 올라왔었습니다.</p>\n<hr>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">javascript에서 상속구조를 만들 때\n\nfunction Person(name) {\n  this.name = name;\n}\nfunction Student(name, school) {\n  Person.call(this, name);\n  this.school = school;\n}\n\nStudent.prototype = Object.create(Person.prototype);\nStudent.prototype.constructor = Student;\n\nvar student1 = new Student(&quot;lee&quot;, &quot;a&quot;);\nconsole.log(student1.name) //lee\n\n이런 식으로 만들고 있는데,\nStudent.prototype = Object.create(Person.prototype);\n이 부분에서 이 것과\nStudent.prototype = new Person();\n을 하는 것의 큰 차이점을 잘 모르겠습니다 ㅠ_ㅠ</code></pre></div>\n<p>위 질문에 맞는 대답은 해드렸지만 최근에 프로토타입에 대해 소홀한 부분이 있어서\n자바스크립트에서의 상속에 대해 한번 정리를 해보려합니다.</p>\n<hr>\n<p>자바스크립트가 사용하는 프로토타입 모델에서의 상속은 아래와 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">Foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">Foo</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">method</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Foo의 인스턴스를 만들어 Bar의 prototype에 할당</span>\n<span class=\"token class-name\">Bar</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Bar의 prototype의 생성자는 자기 자신.</span>\n<span class=\"token class-name\">Bar</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>constructor <span class=\"token operator\">=</span> Bar<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> barz <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// bar 인스턴스를 만든다.</span></code></pre></div>\n<h2 id=\"결과\" style=\"position:relative;\">결과<a href=\"#%EA%B2%B0%EA%B3%BC\" aria-label=\"결과 permalink\" class=\"autolink-headers-- after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>barz의 생성자 Bar의 prototype은 Foo입니다. Foo의 constructor는 Bar를 가리키며,\nFoo의 prototype은 Object를 가리킵니다. 하지만 Object의 프로토타입은 다시 Foo를 가리키죠.</p>\n<ul>\n<li>\n<ol>\n<li>barz의 constructor -> Bar</li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li>Bar의 prototype -> Foo, Foo의 constructor -> Bar</li>\n<li>\n<ol>\n<li>클래스의 상속 개념을 가지는 Bar, Foo와 같은 함수들은 prototype, constructor로 순환구조를 가지게 됩니다.</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<ol start=\"3\">\n<li>Foo의 prototype -> Object</li>\n<li>\n<ol>\n<li>순환구조 최상위인 Object에 도달하면 끝이나게 됩니다.</li>\n</ol>\n</li>\n</ol>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 425px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/123c55d9a06c315a5570893f2143b4d9/2fbbf/result.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 195.00000000000003%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAnCAYAAAAPZ2gOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFZUlEQVRIx41W2VYqVxT0M5KsiNADPc9zN93MqIig1yG5McnKU/7/Dyp1GkEQveZhrwM9VO+hqs45M00TnufBtm34vg/fjZCFYyTREM2iQVkmMGwLiqLsQ5blNna/D++d7W5uQ4FhGLzRh6nbcG0Vhq5AN40jIFVV2/gI9Oz9l+M4QVmEqAodZW5jUDqoS1bhmvCdDKFXIgwThFF0BLT7fQTY7XZhaC5CJ2cLIthZiSAMoesaer3uPrvDdz7McHch4leLomCUyBlibZohkqRgLytmFkH03HVdOI7T9lzX9c9LTpIE0+kU08kI82mNyaTG5eWUZReYTYdsRdaCCMDDwXw6lIuLDsIgJHCANGUPU4t99FBXHrLERODrqKoSvuej3+9D07SjYYk4EymLMsRqWRZ7lyCuL2GlFUwrgh9yCGkOuW9AMy2ofM6wnbZkQbWTDEX6olTRv5jrnD27HSZY1RauSh2Bcg6r8yvcXgeedMHowuWqSBKkj0oWXxHEdggccv07cfFcV/htUOC5ynDp+NjkKR7rHCu2YhFY+F5PMLNsdAiqvi95P3pGX5Gx7newcUK8+EO8eA3u3BgPZYaHIsa4L6FRe1hwrZUeLmTx7o+U0n5NgsYHB1aJyq04CFKFPJR7Pah8pi+4KL+VeyK9wwx3D+hqHyOnxijMUVgOVKnHj0gEE0C7Z7dSPclQUXYXtxmKFx8MFQ9ujmc7xu9BhPs8Rq1KuNYlFEoXXflLQGUPqDPDJfu4Zu9evAn+9Cf4FhbYlDn+qBLkB4DvJ3wCqLz20WCWHmNm55jQEEoSOTE1WNTzRyCHmn7rofzWR6kF7iOzK5QhB2MHbVZdSYYkvQ1RElw8iNMM9+ASLMNC7Q1R03kqctFwTMRphCiOoGsWdoKI4xhBELT/BejZZ6mbhokBJ107Q2RejYoOnlCWruHRdcI2hFyFnQldizgq+ZBTEjO0DRvLaIVluCKFxphVc6wmt2jyIfI8b0MAiqwOnefsxCTlLWDKYUz9GQIr2ZaXxTBZtqJujVjEe1KfZLi7aPDLMYFyK4dvcjsohyiynIag7EvcOfeXShETVjWdJrBsYxpeYZwtMMuuUMQD1A37Wtet5e0m+wkPt6BCpyMq5Cle4pJTLjQHwyTCNR0o872WXp9ldwSokjbCPYZqF99ooE9ugyX5VxsKcqmD5PxnLHq/tM+1QF+ZQwuoqBjK5/RAB7fBHFcEHfkZcvJwkiW4dzQahXRgDvKPpdfj6inC6zq4Mhw82gXuHJYbeFiFLmr9MCP5Qz0fSU+UIfH3L1w1napghpZfoEvV/NSTeZ2U2Tn07p0fmsOrJbl047UZ4J7lPnkuZnToQr5AQ6dJGfL/yfBwMGOWfO2F2ASXWAVjZI6LQFNhcYOa856hbCv5GlDeDmYknePG0vBIDd/RwtZ+ShmSSsMBHl0N2m4wXw1lrxTKK7dMjKmWxiB1ghir6QhN5DHL3pFdvT9BHA/lVcsdgidOhRmVMvIXBFpglC5QkOhRVmA8mfBkkX5NG/m17JnW456S4B/a/3fufBsq5IXlPnEbuLFUeH0qRdjVq9N8Cii92v+D0cPSTdv+3dghRrqFyyjE/WiAv1IPRZ+cVdXWRD7PcG9fMlLSZMlNak1i39oZ7r0B95YQz/MZ/v22xt1qhdv1mi5U8tzY228HJyeHXZMlrY+AfphaA7p0hcJp6NQZsqhBnDe4uV1js1m3Rz/hPE3TYDAYtIetD6fcZ48KL8fAHqAkYOYUaLIxJqMZ5rM5RqMRhqNhu4ozubAysQoX+tBgVQImTorKqhBxk0ryATZ3a1wvr3mEs3iOvGhLFXG464l3/wNR+Jeuxr8IBgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"result\"\n        title=\"result\"\n        src=\"/static/123c55d9a06c315a5570893f2143b4d9/2fbbf/result.png\"\n        srcset=\"/static/123c55d9a06c315a5570893f2143b4d9/070ae/result.png 120w,\n/static/123c55d9a06c315a5570893f2143b4d9/8ff5a/result.png 240w,\n/static/123c55d9a06c315a5570893f2143b4d9/2fbbf/result.png 425w\"\n        sizes=\"(max-width: 425px) 100vw, 425px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"예외-케이스\" style=\"position:relative;\">예외 케이스<a href=\"#%EC%98%88%EC%99%B8-%EC%BC%80%EC%9D%B4%EC%8A%A4\" aria-label=\"예외 케이스 permalink\" class=\"autolink-headers-- after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>만약 Bar의 프로토타입 생성자 (Bar.prototype.constructor)를 정해주지 않으면,\n상속받은 함수(new Foo())를 가리키게 됩니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 351px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7b59b9633d47feb3b642f703fbed2b0c/7c2a6/exception.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 92.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACuElEQVQ4y41UWXbbMAzUSVov2iVS3LRYsi0vceKmSd9r73+XKUBXbhInaT/mmaLJIQYDIJBSwhgDpRS0VlCVgVVrjN0TVu0R64cdDocBtjFI8wzL5RJhGN5g2g94sVgsMP0mSYIoChGHAnkqoWSMSkRIshRRkmE+X2C+mF0wZ8zp3vxKGrx8hQnzPMeqX0GrELWN4EwCXaXo6hSNS5ATsRItqrKm/QbWOVSV+hvhW8IszbHud+gbi1Vn0G9rDL3GZq1hTYo0iSELC5EbiFKjKEsUReEJbyK8vBKhzPhCi7xoEZseQtLlSpO85VXyYjmn84srURRFHjcRFkVOMiysFahdidZJWleUAoOuXaHvezhXo6TI2FA2s6oqbyzvvSLk1/nP0/09TntLMHg8N1gPkog36NsRz89P6Fa9l8ngnHMgk7HB9HEBubUkR6McsTAI0wJJnEGWFm3XoBQl4jj2JFmW+YiEEH7Ne14yf7x8rSylj8Ruj7AUidMWjeVaPEJp7cuKz/I9JpvA8j0hS3RkvabDnAdjDcbdlkgtdpsGw+DQdw4FFfVsNrvmeqrbl/Blw0ltmuZPp2had7g7PWKzaYmIDNIx5S9CmjLB+13yEsFFZunlspQkyalcKnz/8RP9eo+u38K4luRaOieukUzl8hYB6+ZEM/ggp4CjlSKDs5JKh78lPcRnon9HaK1F13U+j4xxHHE+n6k7cozbEnc7Qf2cIssrJNRFXMyfErJMdsiXAEli6ZzTu/UD9sMJdUOdUijsDr9Q6YFq9evnkt86xUiTFH0xYKf21ILKT5/Z1y+vovtojAU3m8uQ5GVoZYf76gEHfaA6o4miLhOFx9VE9h5p8O6gpIha1WEUe2zkFjZv0JgVDQiH4/HoTZvc/i9CdlwUAi6r0RYdZCJx2B9x/vbohwP//5Hk3xazO5Hc3/6oAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"exception\"\n        title=\"exception\"\n        src=\"/static/7b59b9633d47feb3b642f703fbed2b0c/7c2a6/exception.png\"\n        srcset=\"/static/7b59b9633d47feb3b642f703fbed2b0c/070ae/exception.png 120w,\n/static/7b59b9633d47feb3b642f703fbed2b0c/8ff5a/exception.png 240w,\n/static/7b59b9633d47feb3b642f703fbed2b0c/7c2a6/exception.png 351w\"\n        sizes=\"(max-width: 351px) 100vw, 351px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"하지만\" style=\"position:relative;\">하지만<a href=\"#%ED%95%98%EC%A7%80%EB%A7%8C\" aria-label=\"하지만 permalink\" class=\"autolink-headers-- after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>비슷하지만 최근엔 다른 방식을 지향하게 되었습니다. 거의 똑같지만!\n<code class=\"language-text\">Bar.prototype = new Foo();</code> 대신 <code class=\"language-text\">Bar.prototype = Object.create(Foo.prototype);</code>\n를 하는것이죠. 물론 prototype.constructor도 이전과 마찬가지로 동일하게 정의해줘야 합니다.\nnew Foo()를 해도 상관은 없지만, new 연산을 사용하면 아래와 같은 이슈(??)가 생깁니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/97b184909e723955e6891b24502a6026/9b1e2/issue.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABOUlEQVQoz2WRa3KEIBCEPYsrKCoMCvheH5vk/kfqDGztJqn86KKQb8bpnqwzK+ZtQe8tCiFxu+WsW5IQAnVdQ2sNYzTI9Oj0k3e/+eLJF0WBLLgW09AkdVahrS1IO2hjIKVMTSOc5zmILAZvMIb/vCFKbJYubkTXWVSVhBQVnwpKKT6rd9P497YhWONB/ocXzJeSxawQJbLj7nEdDss04jovLMsEsoS2bZPKsnw3HEdmjgHX3uM8Fnx9fuDYHR6PHesSsM4G2TQS7ith3zy2pUfwhBDCn+lell3vMc9dKjzuAdvacwSav03QbYNaSW64Xxx4x3l4KF6AlGWyG6drmiYtxXCecTGunzBsZ+KJHCr15KOLyMa6bAwMt2WaINp66bU14rCj1YGn3u47zn2CJZV4we9CFH/qvgHBktaY2lvdQgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"issue\"\n        title=\"issue\"\n        src=\"/static/97b184909e723955e6891b24502a6026/e85cb/issue.png\"\n        srcset=\"/static/97b184909e723955e6891b24502a6026/070ae/issue.png 120w,\n/static/97b184909e723955e6891b24502a6026/8ff5a/issue.png 240w,\n/static/97b184909e723955e6891b24502a6026/e85cb/issue.png 480w,\n/static/97b184909e723955e6891b24502a6026/37523/issue.png 720w,\n/static/97b184909e723955e6891b24502a6026/d9199/issue.png 960w,\n/static/97b184909e723955e6891b24502a6026/9b1e2/issue.png 1880w\"\n        sizes=\"(max-width: 480px) 100vw, 480px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><code class=\"language-text\">Bar.prototype = new Foo();</code>를 하면 필요없는 객체의 데이터까지 들어오게 됩니다.\n사실 무시할 수도 있지만, 본래의 역활과 다른 무언가까지 생기는게 찝찝하긴 합니다.</p>\n<p>또한, Object.create에도 약간의 이슈가 있는데요, IE9과 같은 마이너 브라우저에서 사용할 수\n없다는 점입니다. 이 부분은 아래 코드처럼 사전 정의를 통해 해결할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">Object<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">create</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">o</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">function</span> <span class=\"token constant\">F</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token class-name\">F</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> o<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">F</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>참고 : <a href=\"http://unikys.tistory.com/320\" target=\"_blank\" rel=\"noopener\">[속깊은 자바스크립트 강좌] 상속, new와 object.create의 차이</a></p>\n<hr>\n<p>읽어주셔서 감사합니다.</p>","frontmatter":{"title":"자바스크립트 상속 모델","date":"February 12, 2018","tags":["javascript","inherit"]}}},"pageContext":{"slug":"/posts/prototype-inheritance-model","previous":{"fields":{"slug":"/posts/welcome-vue-card-layer"},"frontmatter":{"title":"오픈소스 소개"}},"next":{"fields":{"slug":"/posts/review-learning-http-2"},"frontmatter":{"title":"[Review] learning http/2"}}}},"staticQueryHashes":["1576648375","1963346411"]}